<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/f4eeca13f57c12b5.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/f4eeca13f57c12b5.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-66d32731bdd20e83.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-aa55ffd08992d156.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-b75415f3abaef78a.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/108-ababe0d3bb81df72.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/index-e79a9432598a7906.js" defer="" crossorigin=""></script><script src="/_next/static/M_ik3B_k46au3dvCt_K_P/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/M_ik3B_k46au3dvCt_K_P/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"posts":[{"slug":"posts/React/ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‹œì‘í•˜ê¸°","title":"ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‹œì‘í•˜ê¸°","date":"2024-11-18T17:00:24.000Z","image":"index.png","summary":"React Deepdive ì„œì ì˜ React ì»´í¬ë„ŒíŠ¸ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì •ë¦¬í•˜ì˜€ë‹¤.","tags":["react","í…ŒìŠ¤íŠ¸","deepdive"],"content":"\r\n## ë“¤ì–´ê°€ë©°\r\në¦¬ì•¡íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸ë¼ëŠ” ê°œë…ì´ ìˆë‹¤ëŠ” ê±¸ ì•Œê³  ìˆì—ˆì§€ë§Œ, ì •í™•íˆ ë¬´ìŠ¨ ê°œë…ì¸ì§€ ë˜í•œ êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–»ê²Œ í•˜ëŠ” ê±´ì§€ ëª°ëì—ˆë‹¤. \r\n\r\nreact deep diveë¥¼ ê³µë¶€í•´ë³´ë©´ì„œ `08 ì¢‹ì€ ë¦¬ì•¡íŠ¸ ì½”ë“œ ì‘ì„±ì„ ìœ„í•œ í™˜ê²½ êµ¬ì¶•í•˜ê¸°` ë‹¨ì› ì—ì„œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë¶€ë¶„ì´ ìˆì–´ì„œ ì´ ë¶€ë¶„ì—ì„œ ê³µë¶€í•˜ë©´ì„œ ë°°ìš´ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ê¸°ì´ˆì ì¸ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬í•´ë³´ê³ ì í•œë‹¤. \r\n\r\n## ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ \r\n\r\nê¸°ë³¸ì ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ì—ì„œ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ ì§„í–‰ëœë‹¤.\r\n\r\n\t1. ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•œë‹¤.\r\n\t2. ì»´í¬ë„ŒíŠ¸ì—ì„œ íŠ¹ì • ì•¡ì…˜ì„ ìˆ˜í–‰í•œë‹¤.\r\n\t3. ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ê³¼ 2ë²ˆì˜ ì•¡ì…˜ì„ í†µí•´ ê¸°ëŒ€í•˜ëŠ” ê²°ê³¼ì™€ ì‹¤ì œ ê²°ê³¼ì™€ ë¹„êµí•œë‹¤.\r\n\r\n**App.tsx**\r\n```js\r\nimport React from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport StaticComponent from './components/StaticComponent';\r\n\r\nfunction App() {\r\n  return (\r\n    \u003cdiv className=\"App\"\u003e\r\n      \u003cheader className=\"App-header\"\u003e\r\n        \u003cimg src={logo} className=\"App-logo\" alt=\"logo\" /\u003e\r\n        \u003cp\u003e\r\n          Edit \u003ccode\u003esrc/App.tsx\u003c/code\u003e and save to reload.\r\n        \u003c/p\u003e\r\n        \u003ca\r\n          className=\"App-link\"\r\n          href=\"https://reactjs.org\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        \u003e\r\n          Learn React\r\n        \u003c/a\u003e\r\n      \u003c/header\u003e\r\n      \u003cStaticComponent /\u003e\r\n    \u003c/div\u003e\r\n  );\r\n}\r\n\r\nexport default App;\r\n```\r\n**í…ŒìŠ¤íŠ¸ ì½”ë“œ**\r\n```js\r\nimport React from 'react';\r\nimport { render, screen } from '@testing-library/react';\r\nimport App from './App';\r\n\r\ntest('renders learn react link', () =\u003e {\r\n  render(\u003cApp /\u003e);\r\n  const linkElement = screen.getByText(/learn react/i);\r\n  expect(linkElement).toBeInTheDocument();\r\n});\r\n\r\n```\r\nApp.test.tsxê°€ App.tsxì—ì„œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ì´ ìš”ì•½í•  ìˆ˜ ìˆë‹¤.\r\n1. App ë Œë”ë§ \r\n2. Appì—ì„œ 'leartn react' ë¼ëŠ” ë¬¸ìì—´ ê°€ì§„ DOM ìš”ì†Œ ì°¾ê¸° \r\n3. expect(linkElement).toBeInTheDocument() ë¼ëŠ” ì–´ì„¤ì…˜ì„ í™œìš©í•´ 2ë²ˆì—ì„œ ì°¾ì€ ìš”ì†Œê°€ document ë‚´ë¶€ì— ìˆëŠ”ì§€ í™•ì¸í•˜ê¸°\r\n\t\r\nìœ„ì™€ ê°™ì´ ì¼ë°˜ì ì¸ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ëŠ” íŠ¹ì •í•œ ë¬´ì–¸ê°€ë¥¼ ì§€ë‹Œ HTML ìš”ì†Œê°€ ìˆëŠ”ì§€ ì—¬ë¶€ì´ë‹¤. \r\nì´ë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ 3ê°€ì§€ì¸ë°,\r\n\r\n- getBy... : ì¸ìˆ˜ì— ì¡°ê±´ì— ë§ëŠ” ìš”ì†Œë¥¼ ë°˜í™˜í•œë‹¤. ë³µìˆ˜ ê°œë¥¼ ì°¾ìœ¼ë ¤ë©´ getAllBy.. ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  \r\n- findBy... : getByì™€ ìœ ì‚¬í•˜ì§€ë§Œ Promiseë¥¼ ë°˜í™˜, ì¦‰ ë¹„ë™ê¸°ë¡œ ì°¾ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ë©° ê¸°ë³¸ì ìœ¼ë¡œ 1sì˜ íƒ€ì„ì•„ì›ƒì„ ê°€ì§€ê³  ìˆë‹¤.  ë³µìˆ˜ ê°œëŠ” findAllByë¥¼ ì‚¬ìš©í•œë‹¤.\r\n- queryBy... : ì¸ìˆ˜ì— ì¡°ê±´ì— ë§ëŠ” ìš”ì†Œë¥¼ ë°˜í™˜í•˜ëŠ” ëŒ€ì‹ , ìš”ì†Œë¥¼ ì°¾ì§€ ëª»í•œë‹¤ë©´ nullì´ ë°˜í™˜ëœë‹¤. ì°¾ì§€ ëª»í•œê²½ìš° ì— ì—ëŸ¬ë¥¼ ì¼ìœ¼í‚¤ì§€ ì•Šê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤. ë³µìˆ˜ ê°œëŠ” queryAllByë¥¼ ì‚¬ìš©í•œë‹¤.\r\n\r\n\r\nì ê·¸ëŸ¼ ë³¸ê²©ì ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì.\r\n\r\n\r\n\r\n## ì •ì  ì»´í¬ë„ŒíŠ¸\r\n\r\n`ì •ì  ì»´í¬ë„ŒíŠ¸`ë€ ë³„ë„ì˜ ìƒíƒœê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ í•­ìƒ ê°™ì€ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\r\n\r\n**ì •ì  ì»´í¬ë„ŒíŠ¸**\r\n```js\r\nimport { memo } from 'react'\r\n\r\nconst AnchorTagComponent = memo(function AnchorTagComponent({\r\n  name,\r\n  href,\r\n  targetBlank,\r\n}: {\r\n  name: string\r\n  href: string\r\n  targetBlank?: boolean\r\n}) {\r\n  return (\r\n    \u003ca\r\n      href={href}\r\n      target={targetBlank ? '_blank' : undefined}\r\n      rel=\"noopener noreferrer\"\r\n    \u003e\r\n      {name}\r\n    \u003c/a\u003e\r\n  )\r\n})\r\n\r\nexport default function StaticComponent() {\r\n  return (\r\n    \u003c\u003e\r\n      \u003ch1\u003eStatic Component\u003c/h1\u003e\r\n      \u003cdiv\u003eìœ ìš©í•œ ë§í¬\u003c/div\u003e\r\n\r\n      \u003cul data-testid=\"ul\" style={{ listStyleType: 'square' }}\u003e\r\n        \u003cli\u003e\r\n          \u003cAnchorTagComponent\r\n            targetBlank\r\n            name=\"ë¦¬ì•¡íŠ¸\"\r\n            href=\"https://reactjs.org\"\r\n          /\u003e\r\n        \u003c/li\u003e\r\n        \u003cli\u003e\r\n          \u003cAnchorTagComponent\r\n            targetBlank\r\n            name=\"ë„¤ì´ë²„\"\r\n            href=\"https://www.naver.com\"\r\n          /\u003e\r\n        \u003c/li\u003e\r\n        \u003cli\u003e\r\n          \u003cAnchorTagComponent name=\"ë¸”ë¡œê·¸\" href=\"https://yceffort.kr\" /\u003e\r\n        \u003c/li\u003e\r\n      \u003c/ul\u003e\r\n    \u003c/\u003e\r\n  )\r\n}\r\n```\r\n\r\nì´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë§í¬ê°€ ì œëŒ€ë¡œ ìˆëŠ”ì§€ í™•ì¸í•´ë³¼ ê²ƒì´ë‹¤.\r\n\r\n**í…ŒìŠ¤íŠ¸ ì½”ë“œ**\r\n```js\r\nimport { render, screen } from '@testing-library/react'\r\n\r\nimport StaticComponent from './index'\r\n\r\nbeforeEach(() =\u003e {\r\n  render(\u003cStaticComponent /\u003e)\r\n})\r\n\r\ndescribe('ë§í¬ í™•ì¸', () =\u003e {\r\n  it('ë§í¬ê°€ 3ê°œ ì¡´ì¬í•œë‹¤.', () =\u003e {\r\n    const ul = screen.getByTestId('ul')\r\n    expect(ul.children.length).toBe(3)\r\n  })\r\n\r\n  it('ë§í¬ ëª©ë¡ì˜ ìŠ¤íƒ€ì¼ì´ squareë‹¤.', () =\u003e {\r\n    const ul = screen.getByTestId('ul')\r\n    expect(ul).toHaveStyle('list-style-type: square;')\r\n  })\r\n})\r\n\r\ndescribe('ë¦¬ì•¡íŠ¸ ë§í¬ í…ŒìŠ¤íŠ¸', () =\u003e {\r\n  it('ë¦¬ì•¡íŠ¸ ë§í¬ê°€ ì¡´ì¬í•œë‹¤.', () =\u003e {\r\n    const reactLink = screen.getByText('ë¦¬ì•¡íŠ¸')\r\n    expect(reactLink).toBeVisible()\r\n  })\r\n\r\n  it('ë¦¬ì•¡íŠ¸ ë§í¬ê°€ ì˜¬ë°”ë¥¸ ì£¼ì†Œë¡œ ì¡´ì¬í•œë‹¤.', () =\u003e {\r\n    const reactLink = screen.getByText('ë¦¬ì•¡íŠ¸')\r\n\r\n    expect(reactLink.tagName).toEqual('A')\r\n    expect(reactLink).toHaveAttribute('href', 'https://reactjs.org')\r\n  })\r\n})\r\n\r\ndescribe('ë„¤ì´ë²„ ë§í¬ í…ŒìŠ¤íŠ¸', () =\u003e {\r\n  it('ë„¤ì´ë²„ ë§í¬ê°€ ì¡´ì¬í•œë‹¤.', () =\u003e {\r\n    const naverLink = screen.getByText('ë„¤ì´ë²„')\r\n    expect(naverLink).toBeVisible()\r\n  })\r\n\r\n  it('ë„¤ì´ë²„ ë§í¬ê°€ ì˜¬ë°”ë¥¸ ì£¼ì†Œë¡œ ì¡´ì¬í•œë‹¤.', () =\u003e {\r\n    const naverLink = screen.getByText('ë„¤ì´ë²„')\r\n\r\n    expect(naverLink.tagName).toEqual('A')\r\n    expect(naverLink).toHaveAttribute('href', 'https://www.naver.com')\r\n  })\r\n})\r\n\r\ndescribe('ë¸”ë¡œê·¸ ë§í¬ í…ŒìŠ¤íŠ¸', () =\u003e {\r\n  it('ë¸”ë¡œê·¸ ë§í¬ê°€ ì¡´ì¬í•œë‹¤.',()=\u003e{\r\n    const blogLink = screen.getByText('ë¸”ë¡œê·¸')\r\n    expect(blogLink).toBeVisible()\r\n  })\r\n  it('ë¸”ë¡œê·¸ ë§í¬ê°€ ì˜¬ë°”ë¥¸ ì£¼ì†Œë¡œ ì¡´ì¬í•œë‹¤.', ()=\u003e{\r\n    const blogLink = screen.getByText('ë¸”ë¡œê·¸')\r\n\r\n    expect(blogLink.tagName).toEqual('A');\r\n    expect(blogLink).toHaveAttribute('href','https://yceffort.kr')\r\n  })\r\n\r\n  it('ë¸”ë¡œê·¸ëŠ” ê°™ì€ ì°½ì—ì„œ ì—´ë ¤ì•¼ í•œë‹¤.', () =\u003e {\r\n    const blogLink = screen.getByText('ë¸”ë¡œê·¸');\r\n    expect(blogLink).not.toHaveAttribute('target');\r\n  })\r\n})\r\n```\r\nê° í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê¸°ì „ì— StaticComponentë¥¼ ë Œë”ë§í•˜ê³  describeë¡œ ì—°ê´€ëœ í…ŒìŠ¤íŠ¸ë¥¼ ë¬¶ì–´ì„œ itìœ¼ë¡œ it í•¨ìˆ˜ ë‚´ë¶€ì— ìˆ˜í–‰í•˜ëŠ” í…ŒìŠ¤íŠ¸íŒŒì¼ì´ë‹¤.\r\n\r\nëª‡ ê°€ì§€ ìƒˆë¡œìš´ jest ë©”ì„œë“œê°€ ë³´ì¸ë‹¤.\r\n\r\n- beforeEach : ê° í…ŒìŠ¤íŠ¸ë“¤ì„ ì‹¤í–‰í•˜ê¸° ì „ì— ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜  \r\n- describe : ë¹„ìŠ·í•œ ì†ì„±ì„ ê°€ì§„ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ìŒ describe ì•ˆì— describeë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒë„ ê°€ëŠ¥  \r\n- it : testì™€ ì™„ì „íˆ ë™ì¼í•˜ë©° ì¶•ì•½ì–´ì´ë‹¤.  \r\n- testId : getë“±ì˜ ì„ íƒìë¡œ ì„ íƒí•˜ê¸° ì–´ë µê±°ë‚˜ ê³¤ë€í•œ ìš”ì†Œë¥¼ ì„ íƒí•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.\r\n`\r\nì°¸ê³ ë¡œ HTMLì— data-testidë¥¼ ì¶”ê°€í•˜ë©´ getByTestIdë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\r\nì´ëŠ” buttonì˜ ê°œìˆ˜ê°€ ë§ì„ ë•Œì™€ ê°™ì€ íŠ¹ì • ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\r\n`\r\n\r\n## ë™ì  ì»´í¬ë„ŒíŠ¸\r\nìƒíƒœê°’ì´ ìˆëŠ” ì»´í¬ë„ŒíŠ¸, ì˜ˆë¥¼ ë“¤ì–´ useStateë¥¼ ì‚¬ìš©í•´ ìƒíƒœê°’ì„ ê´€ë¦¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸í• ê¹Œ? ì¼ë°˜ì ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ì •ì ì¸ ê²½ìš°ë³´ë‹¤ ë™ì ì¸ ê²½ìš°ê°€ í›¨ì”¬ ë§ë‹¤.\r\nì´ ê²½ìš°ë„ ì‚´í´ë³´ì.\r\n```js\r\nimport { useState } from 'react'\r\n\r\nexport function InputComponent() {\r\n  const [text, setText] = useState('')\r\n\r\n  function handleInputChange(event: React.ChangeEvent\u003cHTMLInputElement\u003e) {\r\n    const rawValue = event.target.value\r\n    const value = rawValue.replace(/[^A-Za-z0-9]/gi, '')\r\n    setText(value)\r\n  }\r\n\r\n  function handleButtonClick() {\r\n    alert(text)\r\n  }\r\n\r\n  return (\r\n    \u003c\u003e\r\n      \u003clabel htmlFor=\"input\"\u003eì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\u003c/label\u003e\r\n      \u003cinput\r\n        aria-label=\"input\"\r\n        id=\"input\"\r\n        value={text}\r\n        onChange={handleInputChange}\r\n        maxLength={20}\r\n      /\u003e\r\n      \u003cbutton onClick={handleButtonClick} disabled={text.length === 0}\u003e\r\n        ì œì¶œí•˜ê¸°\r\n      \u003c/button\u003e\r\n    \u003c/\u003e\r\n  )\r\n}\r\n```\r\nì‚¬ìš©ìì˜ í‚¤ë³´ë“œ íƒ€ì´í•‘ ì…ë ¥ì„ ë°›ëŠ” input, ì´ë¥¼ alertë¡œ ë„ìš°ëŠ” buttonìœ¼ë¡œ êµ¬ì„±ëœ ê°„ë‹¨í•œ ì»´í¬ë„ŒíŠ¸ë‹¤. \r\n\r\ninputì€ ìµœëŒ€ 20ìê¹Œì§€, í•œê¸€ ì…ë ¥ë§Œ ê°€ëŠ¥í•˜ë„ë¡ ì œí•œë˜ì–´ìˆìœ¼ë©°, ì´ëŠ” onChangeì—ì„œ ì •ê·œì‹ì„ í†µí•´ ì‘ì„±ë˜ì–´ ìˆë‹¤. ê·¸ë¦¬ê³  ë²„íŠ¼ì€ ê¸€ìê°€ ì—†ìœ¼ë©´ disableë˜ë„ë¡ ì²˜ë¦¬ë˜ì–´ìˆê³ , í´ë¦­ ì‹œ alert ì°½ì„ ë„ìš´ë‹¤.\r\n\r\ní…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\r\n```\r\nimport { fireEvent, render } from '@testing-library/react'\r\nimport userEvent from '@testing-library/user-event'\r\n\r\nimport { InputComponent } from '.'\r\n\r\ndescribe('InputComponent í…ŒìŠ¤íŠ¸', () =\u003e {\r\n  const setup = () =\u003e {\r\n    const screen = render(\u003cInputComponent /\u003e)\r\n    const input = screen.getByLabelText('input') as HTMLInputElement\r\n    const button = screen.getByText(/ì œì¶œí•˜ê¸°/i) as HTMLButtonElement\r\n    return {\r\n      input,\r\n      button,\r\n      ...screen,\r\n    }\r\n  }\r\n\r\n  it('inputì˜ ì´ˆê¸°ê°’ì€ ë¹ˆ ë¬¸ìì—´ì´ë‹¤.', () =\u003e {\r\n    const { input } = setup()\r\n    expect(input.value).toEqual('')\r\n  })\r\n\r\n  it('inputì˜ ìµœëŒ€ê¸¸ì´ê°€ 20ìë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤.', () =\u003e {\r\n    const { input } = setup()\r\n    expect(input).toHaveAttribute('maxlength', '20')\r\n  })\r\n\r\n  it('ì˜ë¬¸ê³¼ ìˆ«ìë§Œ ì…ë ¥ëœë‹¤.', () =\u003e {\r\n    const { input } = setup()\r\n    const inputValue = 'ì•ˆë…•í•˜ì„¸ìš”123'\r\n    userEvent.type(input, inputValue)\r\n    expect(input.value).toEqual('123')\r\n  })\r\n\r\n  it('ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ë²„íŠ¼ì´ í™œì„±í™” ë˜ì§€ ì•ŠëŠ”ë‹¤.', () =\u003e {\r\n    const { button } = setup()\r\n    expect(button).toBeDisabled()\r\n  })\r\n\r\n  it('ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ë©´ ë²„íŠ¼ì´ í™œì„±í™” ëœë‹¤.', () =\u003e {\r\n    const { button, input } = setup()\r\n\r\n    const inputValue = 'helloworld'\r\n    userEvent.type(input, inputValue)\r\n\r\n    expect(input.value).toEqual(inputValue)\r\n    expect(button).toBeEnabled()\r\n  })\r\n\r\n  it('ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ alertê°€ í•´ë‹¹ ì•„ì´ë””ë¡œ ëœ¬ë‹¤.', () =\u003e {\r\n    const alertMock = jest\r\n      .spyOn(window, 'alert')\r\n      .mockImplementation((_: string) =\u003e undefined)\r\n\r\n    const { button, input } = setup()\r\n    const inputValue = 'helloworld'\r\n\r\n    userEvent.type(input, inputValue)\r\n    fireEvent.click(button)\r\n\r\n    expect(alertMock).toHaveBeenCalledTimes(1)\r\n    expect(alertMock).toHaveBeenCalledWith(inputValue)\r\n  })\r\n})\r\n```\r\n- setup : ë‚´ë¶€ì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê³  í…ŒìŠ¤íŠ¸ì— í•„ìš”í•œ button,inputì„ ë°˜í™˜í•œë‹¤.  \r\n- userEvent.type : ì‚¬ìš©ìê°€ íƒ€ì´í•‘ í•˜ëŠ”ê²ƒì„ í‰ë‚´ë‚´ëŠ” ë©”ì„œë“œì´ë‹¤. userEvent.typeì„ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ íƒ€ì´í•‘í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ ì‘ë™ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\r\nuserEventëŠ” fireEventì˜ ì—¬ëŸ¬ ì´ë²¤íŠ¸ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•´ ì¢€ ë” ìì„¸í•˜ê²Œ ì‚¬ìš©ìì˜ ì‘ë™ì„ í‰ë‚´ë‚¸ë‹¤. \r\nì˜ˆë¥¼ ë“¤ì–´ userEvent.clickë¥¼ ìˆ˜í–‰í•˜ë©´ \r\n\t- fireEvent.MouseOver  \r\n\t- fireEvent.mouseMove \r\n\t- fireEvent.mouseDown \r\n\t- fireEvent.mouseUp  \r\n\t- fireEvent.click \r\n\r\n\tì„ ìˆ˜í–‰í•œë‹¤. \r\n  \r\n  ì¦‰ userEventëŠ” ì‚¬ìš©ìì˜ ì‘ë™ì„ **ì—¬ëŸ¬ fireEventë¥¼ í†µí•´ ì¢€ ë” ìì„¸í•˜ê²Œ í‰ë‚´ ë‚´ëŠ” ëª¨ë“ˆì´**ë¼ê³  ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.\r\n\r\n\tëŒ€ë¶€ë¶„ì˜ ì´ë²¤íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•ŒëŠ” fireEventë¡œ ì¶©ë¶„í•˜ê³  í›¨ì”¬ ë¹ ë¥´ì§€ë§Œ, íŠ¹ë³„íˆ ì‚¬ìš©ìì˜ ì´ë²¤íŠ¸ë¥¼ í‰ë‚´ ë‚´ì•¼ í•  ë•Œë§Œ userEventë¥¼ ì‚¬ìš©í•œë‹¤.\r\n  \r\n- **jest.spyOn(window,'alert').mockImplementation()**  \r\n\t- spyOn : íŠ¹ì • ë©”ì„œë“œë¥¼ ì˜¤ì—¼ì‹œí‚¤ì§€ ì•Šê³  ì‹¤í–‰ì´ ë˜ì—ˆëŠ”ì§€ , ì–´ë–¤ ì¸ìˆ˜ë¡œ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ ì‹¤í–‰ê³¼ ê´€ë ¨ëœ ì •ë³´ë§Œ ì–»ê³  ì‹¶ì„ë•Œ ì‚¬ìš©í•œë‹¤. ì¦‰ ìœ„ì˜ ì½”ë“œì—ì„œëŠ” window ê°ì²´ì˜ ë©”ì„œë“œ alertë¥¼ êµ¬í˜„í•˜ì§€ ì•Šê³  í•´ë‹¹ ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ê´€ì°°í•œë‹¤ëŠ” ëœ»ì´ë‹¤.\r\n\t\r\n\t\r\n\t\tspyonìœ¼ë¡œ `í•œë²ˆ í˜¸ì¶œë˜ì—ˆëŠ”ì§€`(toBeCalledTimes(1)), `ì›í•˜ëŠ” ì¸ìˆ˜ì™€ í•¨ê»˜ í˜¸ì¶œë˜ì—ˆëŠ”ì§€` (toBeCalledWith(1,2))ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. \r\n\t**calc.addìì²´ì—ëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤.**\r\n\t- mockImplementation: í•´ë‹¹ ë©”ì„œë“œì— ëŒ€í•œ ëª¨í‚¹ì„ ë„ì™€ì¤€ë‹¤. Jestí™˜ê²½ì—ì„œëŠ” window.alertê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë°, ì´ë¥¼ ëª¨ì˜í•¨ìˆ˜(mock)ë¡œ êµ¬í˜„í•  ìˆ˜ í•´ì£¼ëŠ” ë©”ì„œë“œì´ë‹¤.\r\n\r\n\tì¦‰ jest.spyOnì„ ì‚¬ìš©í•´ Node.jsì—ì„œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” window.alertë¥¼ ê´€ì°°í•˜ê³ , mockImpletationì„ ì‚¬ìš©í•´ window.alertê°€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ì˜ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì²˜ë¦¬í•œ ê²ƒì´ë‹¤.\r\n\r\n## ë¹„ë™ê¸° í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸\r\n## ë¹„ë™ê¸° ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ì»´í¬ë„ŒíŠ¸\r\nê·¸ë ‡ë‹¤ë©´ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì¤‘ fetchê°€ ì‹¤í–‰ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ì\r\n\r\nì´ ì½”ë“œëŠ” ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ /todos/:idë¡œ fetch ìš”ì²­ì„ ë³´ë‚´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.\r\n\r\nì´ fetchë¥¼ ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆì„ê¹Œ?\r\n\r\nìš°ë¦¬ëŠ” ì´ë¥¼ ìœ„í•´ `MSW`ë¥¼ ì‚¬ìš©í•´ ë³¼ ê²ƒì´ë‹¤.\r\n \r\n MSWëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ì‚¬ìš©í•  ë•ŒëŠ” ì„œë¹„ìŠ¤ ì›Œì»¤ë¥¼ í™œìš©í•´ ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ê°€ë¡œì±„ëŠ” ë°©ì‹ìœ¼ë¡œ ëª¨í‚¹ì„ êµ¬í˜„í•˜ê³ , Node.js í™˜ê²½ì—ì„œëŠ” httpsë‚˜ XMLHttpRequestì˜ ìš”ì²­ì„ ê°€ë¡œì±„ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ë™í•œë‹¤.\r\nì¦‰ node.jsì—ì„œë‚˜ ë¸Œë¼ìš°ì €ì—ì„œ fetch ìš”ì²­ì„ í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ê²Œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ìˆ˜í–‰í•˜ê³ , ì´ ìš”ì²­ì„ ì¤‘ê°„ì— MSWê°€ ê°ì§€í•˜ê³  ë¯¸ë¦¬ ì¤€ë¹„í•œ ëª¨í‚¹ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ë°©ì‹ì´ë‹¤.\r\n\r\nì´ëŠ” fetchì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê³  ì‘ë‹µì— ëŒ€í•´ì„œë§Œ ëª¨í‚¹í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ fetchë¥¼ ëª¨í‚¹í•˜ëŠ”ê²Œ í›¨ì”¬ ìˆ˜ì›”í•´ì§„ë‹¤.\r\n\r\në¹„ë™ê¸° í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ\r\n```js\r\nimport { fireEvent, render, screen } from '@testing-library/react'\r\nimport { rest } from 'msw'\r\nimport { setupServer } from 'msw/node'\r\n\r\nimport { FetchComponent } from '.'\r\n\r\nconst MOCK_TODO_RESPONSE = {\r\n  userId: 1,\r\n  id: 1,\r\n  title: 'delectus aut autem',\r\n  completed: false,\r\n}\r\n// ì„œë²„ë¥¼ ë§Œë“œëŠ” ì—­í• \r\nconst server = setupServer(\r\n  rest.get('/todos/:id', (req, res, ctx) =\u003e {\r\n    const todoId = req.params.id\r\n\r\n    if (Number(todoId)) {\r\n      return res(ctx.json({ ...MOCK_TODO_RESPONSE, id: Number(todoId) }))\r\n    } else {\r\n      return res(ctx.status(404))\r\n    }\r\n  }),\r\n)\r\n// \r\nbeforeAll(() =\u003e server.listen())\r\n// ì´ˆê¸°í™”í–ˆë˜ ì´ˆê¸°ê°’ìœ ì§€ìœ„í•´ì„œ ì´ í…ŒìŠ¤íŠ¸ëŠ” ë§ˆì§€ë§‰ì´ì–´ì„œ ìƒê´€ì—†ì§€ë§Œ, ê·¸ë ‡ì§€ì•Šìœ¼ë©´ ë‹¤ë¥¸ ê³³ì—ì„œë„ 503ì—ëŸ¬\r\n// afterEach(() =\u003e server.resetHandlers());\r\nafterAll(() =\u003e server.close())\r\n\r\nbeforeEach(() =\u003e {\r\n  render(\u003cFetchComponent /\u003e)\r\n})\r\n\r\ndescribe('FetchComponent í…ŒìŠ¤íŠ¸', () =\u003e {\r\n  it('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ì „ì—ëŠ” ê¸°ë³¸ ë¬¸êµ¬ê°€ ëœ¬ë‹¤.', async () =\u003e {\r\n    const nowLoading = screen.getByText(/ë¶ˆëŸ¬ì˜¨ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤./)\r\n    expect(nowLoading).toBeInTheDocument()\r\n  })\r\n\r\n  it('ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.', async () =\u003e {\r\n    const button = screen.getByRole('button', { name: /1ë²ˆ/ })\r\n    fireEvent.click(button)\r\n\r\n    const data = await screen.findByText(MOCK_TODO_RESPONSE.title)\r\n    expect(data).toBeInTheDocument()\r\n  })\r\n\r\n  //ì—¬ê¸°ì„œë§Œ ì—ëŸ¬ë– ì•¼í•˜ë¯€ë¡œ ìœ„ì—ì„œ resetHandlers ì‚¬ìš©\r\n  it('ë²„íŠ¼ì„ í´ë¦­í•˜ê³  ì„œë²„ìš”ì²­ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì—ëŸ¬ë¬¸êµ¬ë¥¼ ë…¸ì¶œí•œë‹¤.', async () =\u003e {\r\n    server.use(\r\n      rest.get('/todos/:id', (req, res, ctx) =\u003e {\r\n        return res(ctx.status(503))\r\n      }),\r\n    )\r\n\r\n    const button = screen.getByRole('button', { name: /1ë²ˆ/ })\r\n    fireEvent.click(button)\r\n\r\n    const error = await screen.findByText(/ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤/)\r\n    expect(error).toBeInTheDocument()\r\n  })\r\n})\r\n```\r\nì „ì²´ ì½”ë“œë¥¼ ë‚˜ëˆ ì„œ ì‚´í´ë³´ì\r\n```js\r\n// ì„œë²„ë¥¼ ë§Œë“œëŠ” ì—­í• \r\nconst server = setupServer(\r\n  rest.get('/todos/:id', (req, res, ctx) =\u003e {\r\n    const todoId = req.params.id\r\n\r\n    if (Number(todoId)) {\r\n      return res(ctx.json({ ...MOCK_TODO_RESPONSE, id: Number(todoId) }))\r\n    } else {\r\n      return res(ctx.status(404))\r\n    }\r\n  }),\r\n)\r\n```\r\n- setupServer: ì´ë¦„ ê·¸ëŒ€ë¡œ ì„œë²„ë¥¼ ë§Œë“œëŠ” ì—­í• ì´ë‹¤. \r\në¼ìš°íŠ¸ /todos/:idì˜ ìš”ì²­ë§Œ ê°€ë¡œì±„ì„œ todoIdê°€ ìˆ«ìì¸ì§€ í™•ì¸í•œ ë‹¤ìŒ, ìˆ«ìì¼ ë•Œë§Œ MOCK_TODO_RESPONSEì™€ idë¥¼ ë°˜í™˜í•˜ê³ , ìˆ«ìê°€ ì•„ë‹ˆë¼ë©´ 404ë¥¼ ë°˜í™˜í•˜ë„ë¡ ì½”ë“œë¥¼ êµ¬ì„±í–ˆë‹¤. \r\n\r\ní…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹œì‘í•˜ê¸° ì „ì—ëŠ” ì„œë²„ë¥¼ ê¸°ë™í•˜ê³ , ì¢…ë£Œë˜ë©´ ì„œë²„ë¥¼ ì¢…ë£Œì‹œí‚¨ë‹¤. \r\nafterEachì— ìˆëŠ” server.resetHandlers()ëŠ” ë§Œì¼ `ì„œë²„ê°€ ì‹¤íŒ¨ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°`ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œ ctx.status(503)ê³¼ ê°™ì€ í˜•íƒœë¡œ ë³€ê²½í•˜ëŠ”ë°, ì´ë¥¼ ë¦¬ì…‹í•˜ì§€ ì•Šìœ¼ë©´ ì‹¤íŒ¨í•˜ëŠ” ì½”ë“œë¡œ ë‚¨ì•„ìˆì„ ê²ƒì´ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ë§ˆë‹¤ resetHandlersë¥¼ í†µí•´ setupServerë¡œ ì´ˆê¸°í™”í–ˆë˜ ì´ˆê¹ƒê°’ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ê²ƒì´ë‹¤.\r\n\r\nê·¸ ë‹¤ìŒ describeë¥¼ ì‹œì‘ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì€ ë‚´ìš©ì„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì‘ì„±í•´ë³´ì.\r\n```js\r\nit('ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.', async () =\u003e {\r\n    const button = screen.getByRole('button', { name: /1ë²ˆ/ })\r\n    fireEvent.click(button)\r\n\r\n    const data = await screen.findByText(MOCK_TODO_RESPONSE.title)\r\n    expect(data).toBeInTheDocument()\r\n  })\r\n```\r\në²„íŠ¼ì„ í´ë¦­í•´ fetchê°€ ë°œìƒí•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í…ŒìŠ¤íŠ¸í•œë‹¤. ë²„íŠ¼ì„ í´ë¦­í•˜ëŠ” ê²ƒ ê¹Œì§€ëŠ” ë™ì¼í•˜ì§€ë§Œ ì´í›„ fetch ì‘ë‹µì´ ì˜¨ ë’¤ì—ì„œì•¼ ë¹„ë¡œì†Œ ì°¾ê³ ì í•˜ëŠ” ê°’ì„ ë Œë”ë§í•  ê²ƒì´ë‹¤.\r\n\r\nìš”ì†Œê°€ ë Œë”ë§ë  ë•Œê¹Œì§€ ì¼ì • ì‹œê°„ ë™ì•ˆ ê¸°ë‹¤ë¦¬ëŠ” `find ë©”ì„œë“œ`ë¥¼ ì‚¬ìš©í•´ ìš”ì†Œë¥¼ ê²€ìƒ‰í•œë‹¤.\r\n\r\n```js\r\n//ì—¬ê¸°ì„œë§Œ ì—ëŸ¬ë– ì•¼í•˜ë¯€ë¡œ ìœ„ì—ì„œ resetHandlers ì‚¬ìš©\r\n  it('ë²„íŠ¼ì„ í´ë¦­í•˜ê³  ì„œë²„ìš”ì²­ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì—ëŸ¬ë¬¸êµ¬ë¥¼ ë…¸ì¶œí•œë‹¤.', async () =\u003e {\r\n    server.use(\r\n      rest.get('/todos/:id', (req, res, ctx) =\u003e {\r\n        return res(ctx.status(503))\r\n      }),\r\n    )\r\n\r\n    const button = screen.getByRole('button', { name: /1ë²ˆ/ })\r\n    fireEvent.click(button)\r\n\r\n    const error = await screen.findByText(/ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤/)\r\n    expect(error).toBeInTheDocument()\r\n  })\r\n```\r\nì•ì„œ setupServerëŠ” ì •ìƒì ì¸ ì‘ë‹µë§Œ ëª¨í‚¹í–ˆê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° í˜ë“¤ë‹¤.\r\n\r\nì„œë²„ ì‘ë‹µì´ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš°ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ì„œëŠ” `server.use`ë¥¼ ì‚¬ìš©í•´ ê¸°ì¡´ `setupServer`ì˜ ë‚´ìš©ì„ ìƒˆë¡­ê²Œ ë®ì–´ì“´ë‹¤. ëª¨ë“  ê²½ìš°ì— 503ì´ ì˜¤ë„ë¡ ì‘ì„±í–ˆê³ , ì„œë²„ ì„¤ì •ì´ ëë‚œ í›„ì—ëŠ” findByë¥¼ ì´ìš©í•´ ì—ëŸ¬ ë¬¸êµ¬ê°€ ì •ìƒì ìœ¼ë¡œ ë…¸ì¶œëëŠ”ì§€ í™•ì¸í•œë‹¤.\r\n\r\nserver.useë¥¼ í™œìš©í•´ ì„œë²„ ê¸°ë³¸ ì‘ë™ì„ ë®ì–´ì“°ëŠ” ì‘ì—…ì€ ìœ„ì˜ ì½”ë“œì—ì„œë§Œ ìœ íš¨í•´ì•¼í•˜ê³ , ë‹¤ë¥¸ ì½”ë“œì—ì„œëŠ” ì›ë˜ëŒ€ë¡œ ë‹¤ì‹œ ì„œë²„ ì‘ë™ì´ ë˜ì–´ì•¼í•˜ë¯€ë¡œ ìœ„ì—ì„œ afterEachì—ì„œ resetHandlersë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë‹¤. \r\n\r\në¹„ë™ê¸° ì»´í¬ë„ŒíŠ¸ì˜ í…ŒìŠ¤íŠ¸ì—ì„œ ì¤‘ìš”í•œ ê²ƒì€ **MSWë¥¼ ì‚¬ìš©í•œ fetch ì‘ë‹µ ëª¨í‚¹**ê³¼ **findByë¥¼ í™œìš©í•´ ë¹„ë™ê¸° ìš”ì²­ì´ ëë‚œ ë’¤ì— ì œëŒ€ë¡œ ëœ ë Œë”ë§ì´ ì¼ì–´ë‚¬ëŠ”ì§€ ê¸°ë‹¤ë¦° í›„ì— í™•ì¸í•˜ëŠ” ê²ƒ**ì´ë‹¤.\r\n## ë§ˆì¹˜ë©°\r\nì§€ê¸ˆê¹Œì§€ ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” 3ê°€ì§€ ì¢…ë¥˜ì˜ ì»´í¬ë„ŒíŠ¸ `ì •ì  ì»´í¬ë„ŒíŠ¸`, `ë™ì  ì»´í¬ë„ŒíŠ¸`, `ë¹„ë™ê¸° ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ì»´í¬ë„ŒíŠ¸`ì˜ ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‚´í´ë³´ì•˜ë‹¤.\r\n\r\nì±…ì—ëŠ” ì´ì™¸ì—ë„ ì¶”ê°€ë¡œ `ì‚¬ìš©ì ì •ì˜ í›…ì„ í…ŒìŠ¤íŠ¸í•˜ê¸°`ê°€ ìˆëŠ”ë°, ì´ ë¶€ë¶„ì€ ì¡°ë§Œê°„ í…ŒìŠ¤íŠ¸ê°€ ìµìˆ™í•´ì§„ ì´í›„ ì‹¤ì œë¡œ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•´ë³¸ ì‚¬ìš©ì ì •ì˜ í›…ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”  ê¸€ì„ í¬ìŠ¤íŒ…í•´ë³¼ ì˜ˆì •ì´ë‹¤.\r\n\r\ní…ŒìŠ¤íŠ¸ì— ê´€í•œ ê¸€ì€ ê³„ì† ì˜¬ë¦´ ê²ƒ ì´ë‹ˆ ë§ê´€ë¶€.\r\n\r\n\r\n"},{"slug":"posts/React/React ê°œë°œì ë„êµ¬(React dev tools)ë¡œ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ì—†ì• ë³¸ ê²½í—˜","title":"React ê°œë°œì ë„êµ¬(React dev tools)ë¡œ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ì—†ì• ë³¸ ê²½í—˜","date":"2024-11-11T17:00:24.000Z","image":"index.png","summary":"React ê°œë°œì ë„êµ¬(React dev tools)ì˜ ê¸°ëŠ¥ë“¤ê³¼ ì´ë¥¼ í™œìš©í•´ë³¸ ê²½í—˜ì„ ê³µìœ í•´ë³´ê² ë‹¤.","tags":["react","next.js","ë Œë”ë§","íŠ¸ëŸ¬ë¸”ìŠˆíŒ…","deepdive","dev tools"],"content":"\r\n# React ê°œë°œì ë„êµ¬(React dev tools)ë¡œ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ì—†ì• ë³¸ ê²½í—˜\r\n\r\n## ë“¤ì–´ê°€ë©°\r\n\r\nReact Deep diveë¥¼ ìŠ¤í„°ë””ì—ì„œ ê³µë¶€í•˜ë©° ë¦¬ì•¡íŠ¸ ì•±ì„ ë””ë²„ê¹…í•˜ê³  ê²€ì‚¬í•  ë•Œ ë³´ë‹¤ íš¨ìœ¨ì ìœ¼ë¡œ í•  ìˆ˜ ìˆëŠ” ë„êµ¬ì¸, **React dev tools**(React ê°œë°œì ë„êµ¬)ë¼ëŠ” ê²ƒì„ ì²˜ìŒ ì ‘í•˜ê²Œë˜ì—ˆë‹¤.\r\nì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” React ê°œë°œì ë„êµ¬ì˜ ê°ì¢… ê¸°ëŠ¥ì— ëŒ€í•´ ì„¤ëª…í•œ í›„, ì´ê²ƒì„ í†µí•´ ë³¸ì¸ì˜ ë¸”ë¡œê·¸ì˜ í˜ì´ì§€ì—ì„œ ë³¸ë˜ ëª¨ë¥´ê³  ìˆì—ˆë˜ ì§€ì†ì ìœ¼ë¡œ ë°œìƒí•˜ê³  ìˆë˜ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ì—†ì•¤ ê²½í—˜ë„ ê³µìœ í•˜ê³ ì í•œë‹¤.\r\n\r\n## React Dev toolsë€?\r\nReact ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë””ë²„ê¹…í•˜ê³  ìµœì í™”í•˜ëŠ” ë° ë„ì›€ì„ ì£¼ëŠ” ë¸Œë¼ìš°ì € í™•ì¥ ë„êµ¬ì´ë‹¤. ë¸Œë¼ìš°ì €ì˜ í™•ì¥ í”„ë¡œê·¸ë¨ìœ¼ë¡œì¨ ì„¤ì¹˜í•˜ë©´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  \r\n\r\nì°¸ê³ ë¡œ React appì˜ developmentëª¨ë“œì—ì„œë§Œ ì›í™œí•˜ê²Œ ëª¨ë“  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° production ëª¨ë“œë¡œ ë¹Œë“œë˜ì—ˆì„ì‹œì—ëŠ” profiler ê¸°ëŠ¥ì€ ë¹„í™œì„±í™”ëœë‹¤.\r\n \u003cimg src=\"2.png\" alt=\"nextjs\" width = '40' height = '40'/\u003e\r\në§Œì¼ production ë¹Œë“œì‹œì—ëŠ” ì´ëŸ°ì‹ìœ¼ë¡œ\r\nì´ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ë•ŒëŠ” \r\n\u003cimg src=\"1.png\" alt=\"nextjs\" width = '40' height = '40'/\u003e\r\nì´ëŸ°ì‹ìœ¼ë¡œ ìƒ‰ê¹”ì´ ë“¤ì–´ì˜¤ê²Œ ëœë‹¤.\r\n\r\nê·¸ëŸ¼ React dev toolsì˜ ê¸°ëŠ¥ë“¤ì¸ **Components**, **Profiler** íƒ­ì„ ë³´ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ í•¨ê»˜ ì•Œì•„ë³´ì\r\n\r\n## Components\r\nComponents íƒ­ì—ì„œëŠ” í˜„ì¬ ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¨ìˆœíˆ êµ¬ì¡° ë¿ë§Œì´ ì•„ë‹ˆë¼, propsì™€ ë‚´ë¶€ hooks ë“± ë‹¤ì–‘í•œ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\r\n### Components íƒ­ì˜ ê¸°ëŠ¥\r\n- ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ì „ì²´ì ì¸ êµ¬ì¡°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\r\n \u003cimg src=\"3.png\" alt=\"nextjs\"/\u003e\r\n- ë³´í†µ state, propsì˜ ê°’ì„ ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸ í•˜ë ¤ë©´ `console.log(...)`ì´ëŸ°ì‹ìœ¼ë¡œ ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ì—¬ í™•ì¸í•˜ëŠ”ë° ì»´í¬ë„ŒíŠ¸ íƒ­ì—ì„œëŠ” íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë¥¼ ê·¸ ì•ˆì— ìˆëŠ” state, propsì˜ ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\r\n \u003cimg src=\"4.png\" alt=\"nextjs\"/\u003e\r\n- ë˜í•œ ë‹¨ì§€ state, props ë¿ë§Œ ì•„ë‹ˆë¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ëœ í›…ì„ ë³¼ ìˆ˜ ìˆëŠ” hooks ë„ ìˆëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤.\r\n\t- state : useState\r\n\t- Reducer: useReducer\r\n\t- Context: useContext\r\n\t- Callback: useCallback\r\n\t- Ref: useRef\r\n\t- id: useId\r\n\t- LayoutEffect: useLayoutEffect\r\n\t- Effect: useEffect\r\n\t- ê·¸ì™¸ì˜ ì‚¬ìš©ì í›…: useê°€ ë¹ ì§„ì±„ë¡œ ë³´ì—¬ì§( ex. useCounterë©´ Counterë¡œ)\r\n - ë˜í•œ rendered byë¥¼ í†µí•´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•œ ë¶€ëª¨ì»´í¬ë„ŒíŠ¸ê¹Œì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\r\n- ë²Œë ˆ ëª¨ì–‘ì˜ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ `log this component data to the console`ì´ë¼ëŠ” ë¬¸ìê°€ ëœ¨ëŠ”ë° ì´ê±¸ í´ë¦­í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì˜ ê´€í•œ ë°ì´í„°ë¥¼ ì½˜ì†”ì— ì°ì–´ë³¼ ìˆ˜ ìˆë‹¤.\r\n \t\u003cimg src=\"5.png\" alt=\"nextjs\"/\u003e\r\n\t\tì½˜ì†”ì— ì»´í¬ë„ŒíŠ¸ì˜ ì •ë³´ê°€ ë‚˜íƒ€ë‚œë‹¤.\r\n \t\u003cimg src=\"6.png\" alt=\"nextjs\"/\u003e\r\n\r\nComponentsíƒ­ì˜ ëŒ€í‘œì ì¸ ê¸°ëŠ¥ë“¤ë§Œì„ ì†Œê°œí–ˆì§€ë§Œ, ì´ì™¸ì—ë„ ì§ì ‘ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤ê±°ë‚˜, ì»´í¬ë„ŒíŠ¸ì˜ state, propsê°’ì„ ì„ì˜ë¡œ ë°”ê¿”ë³¸ë‹¤ë“ ê°€ ë“±ì˜ ê¸°ëŠ¥ ì—­ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\r\n\r\n## Profiler\r\ní”„ë¡œíŒŒì¼ëŸ¬ëŠ” ë¦¬ì•¡íŠ¸ê°€ ë Œë”ë§í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ìƒí™©ì„ í™•ì¸í•˜ê¸° ìœ„í•œ ë„êµ¬ë‹¤. ì¦‰ ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë Œë”ë§ë˜ëŠ” ê³¼ì •ì—ì„œ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ëëŠ”ì§€, ë˜ ëª‡ ì°¨ë¡€ë‚˜ ë Œë”ë§ì´ ì¼ì–´ë‚¬ìœ¼ë©° ì–´ë–¤ ì‘ì—…ì—ì„œ ì˜¤ë˜ ê±¸ë ¸ëŠ”ì§€ì™€ ê°™ì€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\r\n\r\n### í”„ë¡œíŒŒì¼ë§ ì‹œì‘í•˜ê¸°\r\nì²˜ìŒ í”„ë¡œíŒŒì¼ëŸ¬ íƒ­ì„ ì—´ê³ , \r\nì²«ë²ˆì§¸ ë²„íŠ¼ \"ğŸ”µ\" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê¸°ë¡ì´ ì§„í–‰ëœë‹¤. ê¸°ë¡ì„ ì‹œì‘í•˜ë©´ ë Œë”ë§ ê´€ë ¨ ì •ë³´ë“¤ì´ ìë™ìœ¼ë¡œ ìˆ˜ì§‘ë˜ë©°, ğŸ”´ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìˆ˜ì§‘ì´ ì¤‘ë‹¨ë˜ê³  ê²°ê³¼ê°€ ë‚˜íƒ€ë‚œë‹¤.\r\n\r\në‘ë²ˆì§¸ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìƒˆë¡œê³ ì¹¨ í›„ ë™ì‹œì— í”„ë¡œíŒŒì¼ë§ì´ ì‹œì‘ëœë‹¤ ë§ˆì°¬ê°€ì§€ë¡œ ì²«ë²ˆì§¸ ë²„íŠ¼ì´ ğŸ”´ë¡œ ë°”ë€Œë©°, ì´ë¥¼ ëˆ„ë¥´ë©´ í”„ë¡œíŒŒì¼ë§ì´ ì¤‘ë‹¨ë˜ê³ , ê²°ê³¼ê°€ ë‚˜íƒ€ë‚œë‹¤. \r\n\r\n### Flame Chart\r\n \u003cimg src=\"7.png\" alt=\"nextjs\"/\u003e\r\nFlame ChartëŠ” íŠ¹ì • ì»¤ë°‹ì— ëŒ€í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœë¥¼ ë³´ì—¬ì¤€ë‹¤. \r\nì°¨íŠ¸ì˜ ê° ë§‰ëŒ€ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì„ ëœ»í•˜ë©° ë„ˆë¹„ê°€ ë„“ì„ ìˆ˜ë¡ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§ í•˜ëŠ”ë° ì˜¤ë˜ ê±¸ë ¸ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\r\n\r\nê° ì»´í¬ë„ŒíŠ¸ì— ë§ˆìš°ìŠ¤ë¥¼ ê°€ì ¸ë‹¤ ëŒ€ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ê³¼ ê´€ë ¨ëœ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. \r\n\r\në˜í•œ ì˜¤ë¥¸ìª½ìœ„ì˜ í™”ì‚´í‘œ í˜¹ì€ ë§‰ëŒ€ ê·¸ë˜í”„ë¥¼ ëˆ„ë¥´ë©´ ê° ë Œë” ì»¤ë°‹ë³„ë¡œ ë¦¬ì•¡íŠ¸ì—ì„œ ë°œìƒí•œ ë Œë”ë§ ì •ë³´ì™€ ë°œìƒí•œ íšŸìˆ˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ ì˜ë„í•œ íšŸìˆ˜ë§Œí¼ ë Œë”ë§ì´ ë°œìƒí–ˆëŠ”ì§€ë„ ì•Œ ìˆ˜ ìˆë‹¤.\r\n\r\n### Ranked\r\ní•´ë‹¹ ì»¤ë°‹ì—ì„œ ë Œë”ë§í•˜ëŠ”ë° ì˜¤ëœì‹œê°„ì´ ê±¸ë¦° ì»´í¬ë„ŒíŠ¸ë¥¼ ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•œ ê·¸ë˜í”„ì´ë‹¤.\r\n \u003cimg src=\"8.png\" alt=\"nextjs\"/\u003e\r\nFlamegraphì™€ì˜ ì°¨ì´ì ì€ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë‹Œ ë‹¨ìˆœíˆ ë Œë”ë§ì´ ë°œìƒí•œ ì»´í¬ë„ŒíŠ¸ë§Œ ë³´ì—¬ì¤€ë‹¤ëŠ” ê²ƒì´ë‹¤.\r\n\r\n### TimeLine\r\n \u003cimg src=\"9.png\" alt=\"nextjs\"/\u003e\r\në¦¬ì•¡íŠ¸ 18ì´ìƒì˜ í™˜ê²½ì—ì„œë§Œ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ì‹œê°„ì˜ íë¦„ì— ë”°ë¼ ë¦¬ì•¡íŠ¸ê°€ ì‘ë™í•˜ëŠ” ë‚´ìš©ì„ ì¶”ì í•˜ëŠ”ë° ìœ ìš©í•˜ë‹¤. ì‹œê°„ ë‹¨ìœ„ë¡œ í”„ë¡œíŒŒì¼ë§ ê¸°ê°„ë™ì•ˆ ë¬´ìŠ¨ ì¼ì´ ìˆì—ˆëŠ”ì§€ ë¬´ì—‡ì´ ë Œë”ë§ëê³ , ì–´ëŠ ì‹œì ì— ë Œë”ë§ëëŠ”ì§€ ë“±ì— ëŒ€í•´ ìì„¸íˆ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\r\n\r\n## ì´ë¥¼ ì§ì ‘  í™œìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë Œë”ë§ ì¤„ì—¬ë³¸ ê²½í—˜\r\n### ë¬¸ì œ ìƒí™©\r\në‚´ ë¸”ë¡œê·¸ í˜ì´ì§€ì—ëŠ” ê¸€ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” SearchPageê°€ ìˆë‹¤.\r\nprofiler íƒ­ì—ì„œ í”„ë¡œíŒŒì¼ë§ì„ ì‹œì‘í•˜ê³  ê²€ìƒ‰ì–´ ì…ë ¥ì°½ì— í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ê³ , í”„ë¡œíŒŒì¼ë§ì„ ëë‚´ ë³´ì•˜ëŠ”ë°, ë¬¸ì œê°€ ë°œê²¬ë˜ì—ˆë‹¤.\r\n \u003cimg src=\"10.png\" alt=\"nextjs\"/\u003e\r\n \u003cimg src=\"11.png\" alt=\"nextjs\"/\u003e\r\nê²€ìƒ‰ì–´ë¥¼ ì…ë ¥ë§Œ í–ˆëŠ”ë° ê²€ìƒ‰ì–´ì— ë”°ë¥¸ í¬ìŠ¤íŠ¸ë“¤ì„ ë³´ì—¬ì£¼ëŠ” `PostItem`ì„ ì œì™¸í•˜ê³  ì´ì™€ ê´€ë ¨ì—†ëŠ” NavBar, Footer ë“± í˜ì´ì§€ì˜ ëª¨ë“  ìš”ì†Œê°€ í•¨ê»˜ ë Œë”ë§ì´ ë˜ê³  ìˆì—ˆë‹¤. Rankedë¡œ ë³´ë‹ˆê¹Œ ì‹œê°„ ì—­ì‹œ ì œë²• ì°¨ì§€ í•˜ê³  ìˆì—ˆë‹¤.\r\n\r\në˜í•œ ê²€ìƒ‰í˜ì´ì§€ ë¿ë§Œì´ ì•„ë‹ˆë”ë¼ë„ ì¹´í…Œê³ ë¦¬ ì„ íƒ í˜ì´ì§€ì—ì„œë„ ë§ˆì°¬ê°€ì§€ë¡œ ì¹´í…Œê³ ë¦¬ë§Œ ì„ íƒí–ˆëŠ”ë°ë„ ì´ì™€ ê°™ì€ í˜„ìƒìœ¼ë¡œ ë¶ˆí•„ìš”í•˜ê²Œ ë Œë”ë§ì´ ë°œìƒí•˜ê³  ìˆì—ˆë‹¤.\r\n\r\n... ì™œ ì´ëŸ°ì§€ Components íƒ­ìœ¼ë¡œ Headerì™€ Footerì™€ ê°™ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ í¬í•¨í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì¸ **Layout ì»´í¬ë„ŒíŠ¸**ì˜ ì •ë³´ë¥¼ ë³´ë‹ˆ ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤.\r\n\r\nê·¸ ì „ì— ì°¸ê³ : Layout ì»´í¬ë„ŒíŠ¸ ì½”ë“œ (ëª¨ë‹¬ì°½, í—¤ë”, í‘¸í„°ë“±ì„ ê´€ë¦¬í•œë‹¤.)\r\n```js\r\nexport default function Layout({ children }: React.PropsWithChildren) {\r\n  const [sidebar,setSideBar] = useState(false);\r\n\t// ì‚¬ì´ë“œë°”ì— ê´€í•œ useEffect ì½”ë“œë“¤ (ìƒëµ)\r\n\treturn (\r\n\t\t\t\u003cProviders\u003e\r\n\t\t\t\t\u003cmain\r\n\t\t\t\t\tclassName={cls(\r\n\t\t\t\t\t\tnotoSansKr.className,\r\n\t\t\t\t\t\topensans.variable,\r\n\t\t\t\t\t\tkanit.variable,\r\n\t\t\t\t\t\t'w-full relative flex flex-col items-center dark:bg-dark-primary dark:text-dark-primary transition-[background]',\r\n\t\t\t\t\t)}\r\n\t\t\t\t\u003e\r\n\t\t\t\t\t\u003cNavbar setSideBar = {setSideBar}/\u003e\r\n\t\t\t\t\t\u003cdiv className=\"w-full flex flex-col items-center\"\u003e{children}\u003c/div\u003e\r\n\t\t\t\t\t{sidebar \u0026\u0026 (\u003cSideBar setSideBar={setSideBar}/\u003e)}\r\n\t\t\t\t\t\u003cFooter /\u003e\r\n\t\t\t\t\u003c/main\u003e\r\n\t\t\t\u003c/Providers\u003e\r\n\t\t);\r\n}\r\n\r\n```\r\n**Layout ì»´í¬ë„ŒíŠ¸ ì •ë³´**\r\n  \u003cimg src=\"12.png\" alt=\"nextjs\"/\u003e\r\nrendered by PostSearchPage... ì°¸ê³ ë¡œ **PostSearchPageì˜ ì»´í¬ë„ŒíŠ¸ ì •ë³´**ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\r\n  \u003cimg src=\"13.png\" alt=\"nextjs\"/\u003e\r\n1ë²ˆì§¸ Stateì¸ ê²€ìƒ‰ê²°ê³¼,  2ë²ˆì§¸ Stateì¸ ê²€ìƒ‰ í‚¤ì›Œë“œ ê¹Œì§€ ì—¬ê¸°ì„œ ê´€ë¦¬ë˜ê³  ìˆì—ˆê¸°ì— ë‹¹ì—°íˆ ê²€ìƒ‰ì„ í•  ë•Œë§ˆë‹¤ PostSearchPageì´ ë Œë”ë§ë˜ê³  ì´ì— ë”°ë¼ **ìì‹ ì»´í¬ë„ŒíŠ¸ì¸ Layoutì—­ì‹œ ê°™ì´ ë Œë”ë§**ì´ ë˜ëŠ” ê²ƒ ì´ì—ˆë‹¤.\r\n\r\nPostSearchPageì˜ ì½”ë“œë¥¼ ë³´ë©´,\r\n```js\r\nexport  default  function  PostSearchPage(props: {posts:Post[]}) {\r\n\tconst [posts,setPosts] =  useState\u003cPost[]\u003e(props.posts);\r\n\tconst [keyword,setKeyword] =  useState\u003cstring\u003e('');\r\n\tuseEffect(()=\u003e{\r\n\t\tconst  filteredPosts:Post[] =  searchPosts(props.posts,keyword);\r\n\t\tsetPosts(filteredPosts);\r\n\t},[keyword, props.posts]);\r\n\treturn (\r\n\t\u003cLayout\u003e\r\n\t\t\u003cdiv  className='w-full mt-8 md:w-4/5 px-8'\u003e\r\n\t\t\t\u003cSearchInput  keyword={keyword}  setKeyword  =  {setKeyword}/\u003e\r\n\t\t\u003c/div\u003e\r\n\t\t{/* ê²€ìƒ‰ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ë ˆì´ì•„ì›ƒ */}\r\n\t\t\u003cPostLayout  posts={posts}  currentCategory={keyword}  theme='search'/\u003e\r\n\t\u003c/Layout\u003e\r\n\t);\r\n}\r\n```\r\nLayoutì´ ìì‹ìœ¼ë¡œ ìˆëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤.\r\n\r\n### í•´ê²° ë°©ë²•\r\n\r\nì´ì— ëŒ€í•œ í•´ê²° ë°©ë²•ìœ¼ë¡œ ë¬¼ë¡ , `Layout`ì„  ë©”ëª¨ì´ì œì´ì…˜ì„ í†µí•´ì„œ ë³€ê²½ì´ ë°œìƒí•  ë•Œë§Œ ë Œë”ë§ ë˜ë„ë¡ ìµœì í™” í•  ìˆ˜ë„ ìˆì§€ë§Œ, `Layout` ì»´í¬ë„ŒíŠ¸ê°€ ëª¨ë“  í˜ì´ì§€ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ê³ , `Layout` ìì²´ì—ì„œ ê° í˜ì´ì§€ì— ì˜ì¡´í•˜ëŠ” ìƒíƒœê°€ ì—†ëŠ” ì ì„ ê³ ë ¤í•˜ì—¬ `_app.tsx`ì—ì„œ ì´ë¥¼ ìµœìƒìœ„ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ë” ì ì ˆí•´ ë³´ì˜€ë‹¤.\r\n\r\n\u003e Next.jsì˜ page routerì—ì„œ `_app.tsx` íŒŒì¼ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì˜ ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì •ì˜í•˜ëŠ” ì—­í• ì„ í•œë‹¤.\r\n\r\n_app.tsx\r\n```js\r\nexport  default  function  App({ Component, pageProps }:  AppProps) {\r\n\treturn (\r\n\t\t\u003cThemeProvider  attribute='class'  \u003e\r\n\t\t\t\u003cLayout\u003e\r\n\t\t\t\t\u003cComponent  {...pageProps}  /\u003e\r\n\t\t\t\u003c/Layout\u003e\r\n\t\t\u003c/ThemeProvider\u003e\r\n\t);\r\n}\r\n```\r\në³€ê²½ëœ PostSearchPageì˜ returnë¬¸\r\n```js\r\nreturn (\r\n\u003c\u003e\r\n\t\u003cdiv  className='w-full mt-8 md:w-4/5 px-8'\u003e\r\n\t\t\u003cSearchInput  keyword={keyword}  setKeyword  =  {setKeyword}/\u003e\r\n\t\u003c/div\u003e\r\n\t{/* ê²€ìƒ‰ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ë ˆì´ì•„ì›ƒ */}\r\n\t\u003cPostLayout  posts={posts}  currentCategory={keyword}  theme='search'/\u003e\r\n\u003c/\u003e\r\n);\r\n```\r\n\r\nì´ì™€ê°™ì´ ë³€ê²½í•˜ê³  ë‹¤ì‹œ í”„ë¡œíŒŒì¼ë§ì„ í•´ë³´ë‹ˆ\r\n \u003cimg src=\"14.png\" alt=\"nextjs\"/\u003e\r\nLayoutì´ ë”ì´ìƒ ë Œë”ë§ì´ ë˜ì§€ì•Šê³ , ë‹¹ì—°íˆ ê·¸ì „ì— ë¶ˆí•„ìš”í•˜ê²Œ ë Œë”ë§ ë˜ì—ˆë˜ Navbarì™€ Footerë„ ë Œë”ë§ì´ ë˜ì§€ì•ŠëŠ”ë‹¤! \r\n\r\n## ë§ˆì¹˜ë©°\r\nì§€ê¸ˆê¹Œì§€ React Devtoolsì˜ ê¸°ëŠ¥ì— ëŒ€í•´ ì•Œì•„ë³´ê³ , í•„ìê°€ ì´ë¥¼ ì´ìš©í•´ì„œ ë³¸ì¸ì˜ ë¸”ë¡œê·¸ì—ì„œ ë°œìƒë˜ëŠ” ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ì—†ì•¤ ê²½í—˜ê¹Œì§€ ì†Œê°œí•´ë³´ì•˜ë‹¤.\r\n\r\ní›„í›„.. ì§€ë‚˜ê°€ëŠ” í˜•ë‹˜ë“¤ì€ ì´ê±¸ ë³´ë©° 'ë­ì•¼ ì´ ë°”ë³´ëŠ” ë‹¹ì—°í•œê±° ì•„ë‹Œê°€' ë¼ê³  ìƒê°í•  ìˆ˜ë„ ìˆê² ì§€ë§Œ ì§€ê¸ˆê¹Œì§€ 'êµ¬í˜„ë§Œ ë˜ì–´ë¼' ë§Œ ìƒê°í–ˆë˜ êµ¬í˜„ì¶©ì¸ ë‚´ê°€ ë‚˜ë¦„ ì²˜ìŒìœ¼ë¡œ í•œ ìµœì í™”? ê²½í—˜ì´ê¸°ì— ì¡°ê¸ˆ ë¿Œë“¯í–ˆë‹¤. \r\n\r\nê·¸ë¦¬ê³  React Devtoolsë¥¼ ì‚¬ìš©í•˜ë©° ê¸°ëŠ¥ ìì²´ëŠ” ì¢‹ì•˜ëŠ”ë°, ë­ê°€ ë¬¸ì œì¸ì§„ ëª¨ë¥´ê² ëŠ”ë° ìê¾¸ ì¤‘ê°„ì— ë©ˆì¶”ê³  ë¨¹í†µì´ ë˜ì–´ì„œ ì§œì¦ë‚¬ë‹¤. í•´ê²°ë˜ê¸° ì „ê¹Œì§€ëŠ” chrome ê°œë°œì ë„êµ¬ ì‚¬ìš©í•˜ë ¨ë‹¤. "},{"slug":"posts/React/ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì— ëŒ€í•´ ì•Œì•„ë³´ì","title":"ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì— ëŒ€í•´ ì•Œì•„ë³´ì(Feat: next.js, SSG)","date":"2024-11-03T22:00:24.000Z","image":"index.png","summary":"í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§(CSR)ê³¼ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)ì— ëŒ€í•´ì„œ ê·¸ë¦¬ê³  SSRì„ í™œìš©í•œ next.js ì˜ˆì œì™€ SSGì˜ ê°œë…ê³¼ ì˜ˆì œê¹Œì§€ ì•Œì•„ë³´ì.","tags":["react","next.js","deepdive","SSR","SSG","ë Œë”ë§"],"content":"\r\ní”„ë¡ íŠ¸ì—”ë“œë¥¼ ê³µë¶€í•˜ë…¸ë¼ë©´ **SPA**(Single Page Application)ì™€  **CSR**(Client Side Rendering)ê³¼ **SSR(Server Side Rendering)**ì— ëŒ€í•´ í•œë²ˆ ì”© ì´ë¼ë„ ë“¤ì–´ë³´ì•˜ì„ ê²ƒ ì´ë‹¤.\r\n\r\ní•˜ì§€ë§Œ ê°œë…ì´ í™•ì‹¤íˆ ì•ˆì¡í ë•Œê°€ ìˆê³ , ë­ë¥¼ ì¨ì•¼ ë” ì¢‹ì€ì§€ë„ ëª¨ë¥¼ ë•Œë„ ë§ë‹¤.\r\n\r\nì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” SPA,CSRì— ëŒ€í•´ ê°„ë‹¨íˆ ì•Œì•„ë³¸ í›„, **SSR**ì— ëŒ€í•´ì„œ ë³´ë‹¤ ë” ìì„¸íˆ ê°œë…ê³¼  ì´ê²ƒì´ ì“°ì´ëŠ” Next.js ì½”ë“œ ì˜ˆì œì— ëŒ€í•´ì„œë„ ì‚´í´ë³¼ ê²ƒì´ë‹¤. \r\n\r\nê·¸ë¦¬ê³  ë” ë‚˜ì•„ê°€ ì •ì  ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë¡œë“œí•˜ëŠ”**SSG**(Static Site Generation)ì— ëŒ€í•´ì„œë„ ì•Œì•„ë³¼ ê²ƒì´ë‹¤.\r\n\r\n## ê·¸ ì „ì— SPAë€?\r\n\r\n**ì‹±ê¸€ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜(SPA)**ì€ SSR(Server-Side Rendering)ê³¼ ë‹¤ë¥¸ ë Œë”ë§ ë°©ì‹ì¸ **CSR(Client-Side Rendering)**ì„ ì£¼ë¡œ ì‚¬ìš©í•˜ì—¬ ì„œë²„ê°€ ì•„ë‹Œ ë¸Œë¼ìš°ì €ì—ì„œ í˜ì´ì§€ë¥¼ ë Œë”ë§í•˜ê³  ì „í™˜í•œë‹¤.\r\n\r\nSPAëŠ” ë Œë”ë§ê³¼ ë¼ìš°íŒ…ì— í•„ìš”í•œ ëŒ€ë¶€ë¶„ì˜ ê¸°ëŠ¥ì„ ì„œë²„ê°€ ì•„ë‹Œ **ë¸Œë¼ìš°ì €ì˜ JavaScriptì— ì˜ì¡´í•˜ëŠ” ë°©ì‹**ì¸ CSRì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ëœë‹¤. \r\n\r\nSPAì—ì„œëŠ” ì£¼ë¡œ CSRì„ ì‚¬ìš©í•˜ì—¬ ì²˜ìŒ í˜ì´ì§€ë¥¼ ë¡œë“œí•  ë•Œ í•„ìš”í•œ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ë°›ì•„ì˜¤ê³ , ì´í›„ì—ëŠ” ì„œë²„ì—ì„œ HTMLì„ ìƒˆë¡œ ë‚´ë ¤ë°›ì§€ ì•Šê³  **í•˜ë‚˜ì˜ í˜ì´ì§€ì—ì„œ ëª¨ë“  ì‘ì—…ì„ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì—** **ì‹±ê¸€ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜(SPA)**ì´ë¼ê³  ë¶ˆë¦¬ëŠ” ê²ƒì´ë‹¤.\r\n```html\r\n\u003cbody\u003e\u003cnoscript\u003eYou need to enable JavaScript to run this app.\u003c/noscript\u003e\u003cdiv id=\"root\"\u003e\u003c/div\u003e\u003c/body\u003e\u003c/html\u003e\r\n```\r\nìœ„ì˜ SPAë¥¼ ì‚¬ìš©í•˜ëŠ” HTMLì†ŒìŠ¤ë¥¼ ë³´ë©´  HTML ì½”ë“œì˜ `body` ë‚´ë¶€ê°€ ë¹„ì–´ ìˆë‹¤. \r\n\r\nì´ëŠ” ì‚¬ì´íŠ¸ ë Œë”ë§ì— í•„ìš”í•œ body ë‚´ë¶€ì˜ ë‚´ìš©ì„ ëª¨ë‘ **ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ**ë¡œ ì‚½ì…í•œ í›„ì— ë Œë”ë§í•˜ê¸° ë•Œë¬¸ì´ë‹¤. .\r\n\r\nCSRì„ ì‚¬ìš©í•˜ëŠ” SPAëŠ” í•œë²ˆ ë¡œë”©ëœ ì´í›„ì—ëŠ” í˜ì´ì§€ ì „í™˜ ì†ë„ê°€ ë¹ ë¥´ê³  ì‚¬ìš©ìì™€ì˜ ìƒí˜¸ì‘ìš©ì´ ë¶€ë“œëŸ½ë‹¤ëŠ” ì¥ì ì´ ìˆì§€ë§Œ, ìµœì´ˆì˜ ë¡œë”©í•´ì•¼ í•  ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¦¬ì†ŒìŠ¤ê°€ ì»¤ì§„ë‹¤ëŠ” ê²ƒ ê·¸ë¦¬ê³  ê·¸ë¡œ ì¸í•´ ì´ˆê¸° ë¡œë”© ì†ë„ê°€ ê¸¸ì–´ì§„ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.\r\n\r\n## SSR\r\nì‹±ê¸€ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ í™œìš©í•´ í•˜ë‚˜ì˜ í˜ì´ì§€ì—ì„œë§Œ ë Œë”ë§ì„ ìˆ˜í–‰í•œë‹¤ë©´ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì€ **ìµœì´ˆì— ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ í˜ì´ì§€ë¥¼ ì„œë²„ì—ì„œ ë Œë”ë§í•´ ë¹ ë¥´ê²Œ ì‚¬ìš©ìì—ê²Œ í™”ë©´ì„ ì œê³µí•˜ëŠ” ë°©ì‹**ì´ë‹¤.\r\n\r\nì¦‰ ì•ì„œ ì‚´í´ë³´ì•˜ë˜ CSRê³¼ SSRì˜ ì°¨ì´ëŠ” ì›¹í˜ì´ì§€ ë Œë”ë§ì˜ ì±…ì„ì„ ì–´ë””ì— ë‘ëŠëƒì¸ë°,  CSRì„ ì‚¬ìš©í•˜ëŠ” SPAëŠ” ì‚¬ìš©ìì—ê²Œ ì œê³µë˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë²ˆë“¤ì—ì„œ ë Œë”ë§ì„ ë‹´ë‹¹í•˜ì§€ë§Œ, SSRì„ ì±„íƒí•˜ë©´ ë Œë”ë§ì— í•„ìš”í•œ ì‘ì—…ì„ ëª¨ë‘ ì„œë²„ì—ì„œ ìˆ˜í–‰í•œë‹¤. \r\n\r\ní´ë¼ì´ì–¸íŠ¸ ë Œë”ë§ì€ ì‚¬ìš©ì ê¸°ê¸°ì˜ ì„±ëŠ¥ì— ì˜í–¥ì„ ë°›ì§€ë§Œ, ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì€ ì„œë²„ì—ì„œ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ì•ˆì •ì ì¸ ë Œë”ë§ì´ ê°€ëŠ¥í•˜ë‹¤.\r\n\r\n## SSRì˜ ì¥ë‹¨ì \r\n### ì¥ì \r\n- ìµœì´ˆ í˜ì´ì§€ ì§„ì…ì´ ë¹„êµì  ë¹ ë¥´ë‹¤.\r\n\t\r\n\tìµœì´ˆ í˜ì´ì§€ ì§„ì… ì‹œ í˜ì´ì§€ì— ìœ ì˜ë¯¸í•œ ì •ë³´ê°€ ê·¸ë ¤ì§€ëŠ” ì‹œê°„ì¸ FCP(First Contentful Paint)ê°€ SPAì— ë¹„í•´ ë” ë¹¨ë¼ì§ˆ ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ, ì„œë²„ê°€ ì‚¬ìš©ìì—ê²Œ ë Œë”ë§ì„ ì œê³µí•  ìˆ˜ ìˆëŠ” ì¶©ë¶„í•œ ë¦¬ì†ŒìŠ¤ê°€ í™•ë³´ë˜ì–´ ìˆë‹¤ë¼ëŠ” ê°€ì •í•˜ì— ë¹„êµí•œ ê²ƒì´ë‹¤.\r\n\t\r\n- ê²€ìƒ‰ ì—”ì§„ê³¼ SNS ê³µìœ  ë“± ë©”íƒ€ ë°ì´í„° ì œê³µì´ ì‰½ë‹¤.\r\n\t\r\n\tê²€ìƒ‰ ì—”ì§„ ë¡œë´‡ì´ í˜ì´ì§€ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ë•Œ HTMLì„ ë‹¤ìš´ë¡œë“œ í•˜ëŠ”ë°, ë‹¨, **ì´ ë•Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.** \r\n\r\n\të‹¤ìš´ë¡œë“œí•œ HTML í˜ì´ì§€ ë‚´ë¶€ì˜ ì˜¤í”ˆ ê·¸ë˜í”„(Open Graph)ë‚˜ ë©”íƒ€(meta) íƒœê·¸ ì •ë³´ë¥¼ \tê¸°ë°˜ìœ¼ë¡œ í˜ì´ì§€ì˜ ê²€ìƒ‰ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê²€ìƒ‰ ì—”ì§„ì— ì €ì¥í•œë‹¤.\r\n\r\n\tì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì„ ì‚¬ìš©í•˜ë©´ ìµœì´ˆì˜ ë Œë”ë§ ì‘ì—…ì´ ì„œë²„ì—ì„œ ì¼ì–´ë‚œë‹¤. ì¦‰ ê²€ìƒ‰ ì—”ì§„ì—ì„œ ì œê³µí•  ì •ë³´ë¥¼ ì„œë²„ì—ì„œ ê°€ê³µí•˜ì—¬ HTML ì‘ë‹µìœ¼ë¡œ ì œê³µí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ SEOì— ëŒ€ì‘í•˜ê¸°ê°€ ìš©ì´í•˜ë‹¤.\r\n\t\r\n\tSSRì„ ì‚¬ìš©í•˜ëŠ” next jsì—ì„œëŠ” generateMetaDataë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš© (14ë²„ì „ app routerê¸°ì¤€) í•˜ì—¬ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ í˜ì¹­í•˜ì—¬ ë™ì ìœ¼ë¡œ ì´ì™€ ê°™ì´ ë¹„êµì  ì‰½ê²Œ ë©”íƒ€ë°ì´í„°ì˜ ë‚´ìš©ì„ ì„¤ì •í•  ìˆ˜ë„ ìˆë‹¤. \r\n\t```js\r\n\t// paramsëŠ” groupIdë¼ê³  ì„¤ì •ëœ í˜ì´ì§€ì˜ ë™ì  íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²ƒ\r\n\texport  async  function  generateMetadata({params}: {params: {groupId:  string}}) {\r\n\t// ì´ paramsë¥¼ í†µí•´ì„œ ì„œë²„ì— ë¯¸ë¦¬ ë°ì´í„°ë¥¼ ìš”ì²­í•œë‹¤.\r\n\tconst  response  =  await  fetchGroupData({queryKey: ['groupDetail',Number(params.groupId)]});\r\n\t// ìš”ì²­í•œ ë°ì´í„°ë¥¼ ì´ëŸ°ì‹ìœ¼ë¡œ return í•˜ì—¬ head íƒœê·¸ì˜ titleê³¼ descriptionì— ë„£ì„ ìˆ˜ ìˆë‹¤.\r\n\t\treturn {\r\n\t\t\ttitle:  `${response.name}`,\r\n\t\t\tdescription:  `${response.description}`,\r\n\t\t}\r\n\t}\r\n\t```\r\n\r\n- ëˆ„ì  ë ˆì´ì•„ì›ƒ ì´ë™ì´ ì ë‹¤.\r\n\tëˆ„ì  ë ˆì´ì•„ì›ƒ ì´ë™ì€ ì‚¬ìš©ìì—ê²Œ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤€ ì´í›„ì— ë’¤ëŠ¦ê²Œ ì–´ë–¤ HTML ì •ë³´ê°€ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë˜ì–´ ë§ˆì¹˜ í™”ë©´ì´ ëœì»¥ ê±°ë¦¬ëŠ” ê²ƒê³¼ ê°™ì€ ë¶€ì •ì ì¸ ì‚¬ìš©ì ê²½í—˜ì„ ë§í•˜ëŠ” ê²ƒì´ë‹¤. \r\n\r\n\tapiìš”ì²­ì´ ë‹¤ ì™„ë£Œëœ ì´í›„ì— ì™„ì„±ëœ í˜ì´ì§€ë¥¼ ì œê³µí•˜ëŠ” ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì€ ì´ëŸ¬í•œ ë¬¸ì œì—ì„œ ë¹„êµì  ììœ ë¡­ë‹¤.\r\n\r\n- ì‚¬ìš©ìì˜ ë””ë°”ì´ìŠ¤ ì„±ëŠ¥ì— ë¹„êµì  ììœ ë¡­ë‹¤.\r\n\t- ì„œë²„ì™€ í•¨ê»˜ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ë¶€ë‹´ì„ ë‚˜ëˆ„ë¯€ë¡œ, ë³´ë‹¤ ì‚¬ìš©ì ë””ë°”ì´ìŠ¤ ì„±ëŠ¥ì— ììœ ë¡­ë‹¤.\r\n\r\n### ë‹¨ì \r\n- ì†ŒìŠ¤ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ í•­ìƒ ì„œë²„ë¥¼ ê³ ë ¤í•´ì•¼ í•œë‹¤.\r\n\r\n\twindow ë˜ëŠ” sessionStorageì™€ ê°™ì€ ë¸Œë¼ìš°ì € ì „ì—­ ê°ì²´ì— ì ‘ê·¼í•˜ëŠ” ì½”ë“œëŠ” ì„œë²„ì—ì„œ ì‹¤í–‰ë  ìˆ˜ ì—†ì–´ ì´ë¥¼ ê³ ë ¤ í•´ì•¼ í•˜ê³ , ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—­ì‹œ ì„œë²„ì— ëŒ€í•œ ê³ ë ¤ë¥¼ í•´ì•¼ë§Œí•œë‹¤.\r\n- ì ì ˆí•œ ì„œë²„ê°€ êµ¬ì¶•ë˜ì–´ìˆì–´ì•¼ í•œë‹¤.\r\n\r\n\tì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì€ ë§ ê·¸ëŒ€ë¡œ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ë°›ì•„ ë Œë”ë§ì„ ìˆ˜í–‰í•  ì„œë²„ê°€ í•„ìš”í•˜ë¯€ë¡œ, ì‚¬ìš©ìì˜ ìš”ì²­ì— ë”°ë¼ ì ì ˆíˆ ëŒ€ì‘í•˜ëŠ” ê²ƒ, ì˜ˆê¸°ì¹˜ ëª»í•œ ì¥ì• ìƒí™©ì— ëŒ€ì‘í•˜ëŠ” ì „ëµë„ í•„ìš”í•˜ë‹¤\r\n- ì„œë¹„ìŠ¤ ì§€ì—° ë¬¸ì œ\r\n\t\r\n\tSPAì—ì„œëŠ” ìµœì´ˆì— ì–´ë–¤ í™”ë©´ì´ë¼ë„ ë³´ì—¬ì¤€ ìƒíƒœì—ì„œ ëŠë¦° ì‘ì—…ì´ ìˆ˜í–‰ë˜ê¸° ë•Œë¬¸ì— 'ë¡œë”© ì¤‘'ê³¼ ê°™ì€ ê²ƒìœ¼ë¡œ ì•ˆë‚´í•˜ë©´ ë˜ì§€ë§Œ, SSRì—ì„œëŠ” íŠ¹íˆ ì´ ì§€ì—° ì‘ì—…ì´ ìµœì´ˆ ë Œë”ë§ì— ë°œìƒí•œë‹¤ë©´ ì‚¬ìš©ìì—ê²Œ ê·¸ ì–´ë–¤ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ì—†ê¸°ì—, ë” ì•ˆì¢‹ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤.\r\n\r\n## Next jsì—ì„œ ì‚¬ìš©ë˜ëŠ” SSR\r\n\r\nReact DeepDiveëŠ” Next.js 13ì„ ê¸°ì¤€ìœ¼ë¡œ ì±…ì´ ì“°ì—¬ì¡Œê¸°ì— page routerì˜ **getServerSideProps**ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ next.jsì˜ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì˜ ì˜ˆì œë¡œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.\r\n\r\n í•´ë‹¹ í•¨ìˆ˜ê°€ ìˆë‹¤ë©´ ë¬´ì¡°ê±´ í˜ì´ì§€ ì§„ì… ì „ì— ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.\r\n\r\nì´ í•¨ìˆ˜ëŠ” ì‘ë‹µê°’ì— ë”°ë¼ í˜ì´ì§€ì˜ ì»´í¬ë„ŒíŠ¸ì— propsë¥¼ ë°˜í™˜í•  ìˆ˜ë„, í˜¹ì€ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œí‚¬ ìˆ˜ ìˆë‹¤.\r\n```js\r\nimport type {GetServerSideProps} from 'next';\r\n\r\nexport default function Post({post}: {post:Post}) {\r\n\t// ë Œë”ë§\r\n}\r\n\r\nexport const getServerSideProps: GetServerSideProps = async (context) =\u003e {\r\n\t// /post/[id]ì™€ ê°™ì€ ê²½ë¡œì— ìˆëŠ” id ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. (ì—¬ê¸°ì„œ idëŠ” ë™ì  íŒŒë¼ë¯¸í„°)\r\n\tconst {\r\n\tquery: {id: ''},\r\n\t} = context\r\n\tconst post = await fetchPost(id.toString());\r\n\treturn {\r\n\t\tprops: {post},\r\n\t}\r\n}\r\n```\r\n\r\nconstext.query.idë¥¼ ì‚¬ìš©í•˜ë©´  /post/[id] ê°™ì€ ê²½ë¡œì— ìˆëŠ” id ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. \r\n(ex ) `www.aaa.com/post/12` ë©´ `12`ì¶”ì¶œ ê°€ëŠ¥)\r\n\r\nìœ„ì˜ ì½”ë“œëŠ” í˜ì´ì§€ì˜ ê²½ë¡œì˜ idì— ì ‘ê·¼í•˜ì—¬ ê·¸ ê°’ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ” ë°ì´í„° ìš”ì²­ í•¨ìˆ˜(fetchPost)ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ë°›ê³  ë°›ì€ ë°ì´í„°ë¥¼ propsì— return í•˜ê³  ìˆë‹¤.\r\n\r\nì´ë ‡ê²Œ getServerSidePropsë¡œ ë¯¸ë¦¬ propsë¥¼ ì œê³µí•˜ë©´ í˜ì´ì§€ì˜ Post ì»´í¬ë„ŒíŠ¸ì— í•´ë‹¹ ê°’ì„ ì œê³µí•˜ì—¬ ì´ ë°˜í™˜ ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ë Œë”ë§ í•œë‹¤.\r\n\r\nê·¸ë ‡ë‹¤ë©´ 14ë²„ì „ì˜ Next.js App routerì—ì„œëŠ” ì´ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í• ì§€ë„ ì‚´í´ë³´ì.\r\n\r\n```js\r\n// app/post/[id]/page.js\r\n\r\nimport { fetchPost } from '@/lib/api'; // fetchPost í•¨ìˆ˜ëŠ” ì™¸ë¶€ API í˜¸ì¶œ í•¨ìˆ˜ë¼ê³  ê°€ì •\r\n\r\nexport default async function Post({ params }) {\r\n  const { id } = params;\r\n  const post = await fetchPost(id); // ë°ì´í„°ë¥¼ ì„œë²„ ì¸¡ì—ì„œ ê°€ì ¸ì˜´\r\n\r\n  return (\r\n    \u003c\u003e\r\n      \u003cPostInfo title = {post.title} content = {post.content}/\u003e\r\n    \u003c/\u003e\r\n  );\r\n}\r\n```\r\n\r\n14ë²„ì „ next jsì€ getServerSidePropsì™€ ê°™ì€ í•¨ìˆ˜ë¥¼ ì“°ëŠ” ëŒ€ì‹ , ì»´í¬ë„ŒíŠ¸ë¥¼ **í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸**ì™€ **ì„œë²„ ì»´í¬ë„ŒíŠ¸**ë¡œ ë‚˜ëˆˆë‹¤. \r\n\r\nìœ„ì˜ ì»´í¬ë„ŒíŠ¸ PostëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ì´ë‹¤. 14ë²„ì „ì˜ next.jsì—ì„œëŠ” ìµœìƒë‹¨ì— ë”°ë¡œ ëª…ë ¹ì–´ë¥¼ ì“°ì§€ ì•Šìœ¼ë©´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¡œ ì¸ì‹í•œë‹¤. \r\n\r\nPost ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” í˜ì´ì§€ íŒŒë¼ë¯¸í„° ê°’ì„ í†µí•´ ë°ì´í„°ë¥¼ ì„œë²„ ë‹¨ì—ì„œ ê°€ì ¸ì˜¤ê³  ìˆë‹¤.\r\nìš°ë¦¬ëŠ” ì´ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì¸ PostInfoì— propsë¡œ ë„˜ê²¨ì¤„ ê²ƒ ì´ë‹¤.\r\n\r\ní´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ 'use client'ë¥¼ ìµœìƒë‹¨ì— ì“°ë©´ ëœë‹¤. \r\n```js\r\n'use client'\r\n\r\nexport default async function PostInfo({title, content}) {\r\n\treturn (\r\n\t\t\u003cdiv\u003e \r\n\t\t\t\u003ch1\u003e{title}\u003c/h1\u003e \r\n\t\t\t\u003cp\u003e{content}\u003c/p\u003e \r\n\t\t\u003c/div\u003e\r\n\t);\r\n}\r\n```\r\nPostInfoëŠ” ë§¨ ìœ„ì— 'use client'ë¥¼ ì„ ì–¸í–ˆìœ¼ë¯€ë¡œ, **í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸** ì´ë‹¤. ì„œë²„ ì»´í¬ë„ŒíŠ¸ì¸ Postì—ì„œ ë¯¸ë¦¬ ë¡œë“œí•˜ì—¬ ë„˜ê²¨ì¤€ ë°ì´í„°ë¥¼ propsë¡œ ë°›ì•„ í™”ë©´ì— ë‚˜íƒ€ë‚´ëŠ” ì—­í• ì„ í•œë‹¤.\r\n\r\nì´ì™€ ê°™ì´ Next.js ì—ì„œëŠ” ì—¬ëŸ¬ APIë¥¼ ì‚¬ìš©í•´ì„œ ë³µì¡í•˜ê²Œ SSRì„ ë³µì¡í•˜ê²Œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” reactì— ë¹„í•´ì„œ ë¹„êµì  ê°„ë‹¨í•˜ê²Œ SSRì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\r\n\r\n## + SSG\r\n\r\nSSG(Static Site Generation)ëŠ” Next.jsì—ì„œ í˜ì´ì§€ë¥¼ ë¹Œë“œí•  ë•Œ ë¯¸ë¦¬ HTML íŒŒì¼ë¡œ ìƒì„±í•˜ì—¬ ì €ì¥í•´ ë‘ê³ , ì‚¬ìš©ìê°€ í•´ë‹¹ í˜ì´ì§€ì— ì ‘ê·¼í•  ë•Œ ì„œë²„ ìš”ì²­ ì—†ì´ ì •ì  íŒŒì¼ì„ ì œê³µí•˜ëŠ” ë°©ì‹ì´ë‹¤. \r\n\r\nì´ëŠ” íŠ¹íˆ ìì£¼ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ì½˜í…ì¸ ë¥¼ ê°€ì§„ ë¸”ë¡œê·¸ì™€ ê°™ì€ í˜ì´ì§€ì—ì„œ ì„±ëŠ¥ê³¼ SEO ìµœì í™”ì— ìœ ë¦¬í•œ ë°©ë²•ì´ë‹¤.\r\n\r\në‚´ ë¸”ë¡œê·¸ ì—­ì‹œ ì´ì™€ ê°™ì€ ë°©ì‹ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, Next.jsì˜ page routerë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ `getStaticProps`ì™€ `getStaticPath`ë¡œ SSGë¥¼ êµ¬í˜„í•˜ê³  ìˆë‹¤.\r\n\r\n- getStaticPaths: í˜ì´ì§€ê°€ ì ‘ê·¼ ê°€ëŠ¥í•œ ì£¼ì†Œë¥¼ ë¯¸ë¦¬ ì •ì˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, /pages/post/[id]ë¼ëŠ” ê²½ë¡œê°€ ìˆê³ \r\n\t```js\r\n\texport default getStaticPaths = async () =\u003e {\r\n\t\treturn {\r\n\t\t\tpaths: [{params: {id: '1'}}, {params: {id:'2'}}],\r\n\t\t\tfallback: false,\r\n\t\t}\r\n\t}\r\n\t```\r\n\tì´ì™€ ê°™ì´ í•¨ìˆ˜ê°€ ì •ì˜ ë˜ì–´ìˆë‹¤ë©´ /post/1ê³¼ /post/2 ë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë©°, ê·¸ì™¸ì˜ /posts/3 ë“±ì€ 404ë¥¼ ë°˜í™˜í•œë‹¤. (ë‹¨, fallbackì´ trueë¼ë©´ ë¹Œë“œê°€ ë˜ê¸°ì „ê¹Œì§€ fallback ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì£¼ê³ , ê·¸ ì´í›„ì—ëŠ” í•´ë‹¹ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤€ë‹¤.) \r\n\t\r\n- getStaticProps: ì•ì—ì„œ ì •ì˜í•œ í˜ì´ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•´ë‹¹ í˜ì´ì§€ë¡œ ìš”ì²­ì´ ì™”ì„ ë•Œ ì œê³µí•  propsë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. ìœ„ì—ì²˜ëŸ¼ idê°€ 1ê³¼ 2ë¡œë§Œ ì œí•œë˜ë¯€ë¡œ, fetchPost(1), fetchPost(2)ì„ ê¸°ì¤€ìœ¼ë¡œ í•¨ìˆ˜ì˜ ì‘ë‹µê°’ì„ propsì˜ {post}ë¡œ ë°˜í™˜í•œë‹¤.\r\n\t```js\r\n\texport const getStaticProps = async ({params}) =\u003e {\r\n\t\tconst {id} = params;\r\n\t\tconst post = await fetchPost(id);\r\n\t\t\r\n\t\treturn {\r\n\t\t\tprops: {post}\r\n\t\t}\r\n\t}\r\n\t```\r\n\r\n### ë‚´ ë¸”ë¡œê·¸ì—ì„œ ì‚¬ìš©í•œ ì½”ë“œ\r\n\r\n\r\n```js\r\nexport  function  getStaticPaths() {\r\n\t// íŒŒì¼ë“¤ì„ ëª¨ë‘ ë°›ì•„ì˜¤ê³ , slugë¥¼ ì¶”ì¶œí•œë‹¤.\r\n\tconst  slugs  =  getAllPosts().map((file:Post) =\u003e  file.slug);\r\n\t// ì´ slugë“¤ì„ ê²½ë¡œë¡œ ë¯¸ë¦¬ ì§€ì •í•œë‹¤.\r\n\treturn {\r\n\t\tpaths:  slugs.map((slug:  string) =\u003e {\r\n\t\t\r\n\t\t\tconst  detail  =  slug.split('/');\r\n\t\t\t// paramsì— ê°ê°ì˜ ê²½ë¡œëŠ” ë°°ì—´ë¡œ ë„˜ê²¨ì¤˜ì•¼ í•œë‹¤. (ex. /posts/detailì´ë©´ ['post', 'detail'] ì´ëŸ° ì‹ ìœ¼ë¡œ\r\n\t\t\treturn { params: { detail } };\r\n\t\t}),\r\n\t\tfallback:  false,\r\n\t};\r\n}\r\n```\r\në‚˜ì˜ ë¸”ë¡œê·¸ì—ì„œëŠ” getStaticPathsì—ì„œëŠ” ëª¨ë“  í¬ìŠ¤íŠ¸ë“¤ì˜ slug\r\n(slugëŠ” /posts/category/íŒŒì¼ëª… ë°©ì‹ìœ¼ë¡œ ë˜ì–´ìˆëŠ” íŒŒì¼ì˜ ê²½ë¡œë¡œ ë³´ë©´ ëœë‹¤.)ë¥¼ paramsë¡œ ë„˜ê²¨ì£¼ì–´ ê²½ë¡œë¥¼ ë¯¸ë¦¬ ì§€ì •í–ˆë‹¤.\r\n\r\n```js\r\nexport  const  getStaticProps  :GetStaticProps  = ({params}) =\u003e {\r\n\r\n\tconst {detail} =  params  as {detail:string[]};\r\n\t// ë°°ì—´ì„ ë‹¤ì‹œ ë¬¸ìì—´ë¡œ ë°”ê¾¸ê³ , ì—¬ê¸°ì— .mdxë¥¼ ë¶™ì¸ë‹¤.\r\n\tconst  detailPath  =  detail.join('/')+'.mdx';\r\n\tconst  postData  =  getPostData(`${detailPath}`);\r\n\r\n\treturn {\r\n\t\tprops: {\r\n\t\t\tpost:  JSON.parse(JSON.stringify(postData)),\r\n\t\t},\r\n\t};\r\n}\r\n```\r\nì´í›„ ë°›ì•„ì˜¨ paramsë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹í•˜ëŠ” mdxíŒŒì¼ì„ ë¯¸ë¦¬ ë°›ì•„ì˜¨ë‹¤.  ì´ë¥¼ propsë¡œ ë„˜ê²¨ì£¼ë©´ í˜ì´ì§€ì—ì„œ ì´ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\r\n```js\r\nexport  function  PostDetailPage(props:PostDetailProps) {\r\n\treturn (\r\n\t\u003c\u003e\r\n\t\t\u003cHead\u003e\r\n\t\t\t\u003ctitle\u003e{props.post.title}\u003c/title\u003e\r\n\t\t\t\u003cmeta  name=\"description\"  content={`${props.post.summary}`}  /\u003e\r\n\t\t\u003c/Head\u003e\r\n\t\t\u003cPostDetailLayout  post={props.post} /\u003e\r\n\t\u003c/\u003e\r\n\t)\r\n}\r\n```\r\npropsë¡œ ë¯¸ë¦¬ ë¹Œë“œí•˜ì—¬ ìƒì„±í•œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ìŠµì´ë‹¤.\r\n(ë˜í•œ Headíƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬(page router ê¸°ì¤€) ë©”íƒ€ë°ì´í„° ì—­ì‹œ ë°›ì•„ì˜¨ ë°ì´í„° ì •ë³´ë¡œ ì„¤ì •í•˜ì—¬ SEOì— ìœ ë¦¬í•˜ê²Œ í–ˆë‹¤.)\r\n\r\nì´ ë‘í•¨ìˆ˜ë¥¼ ì ì ˆíˆ ì„¤ì •í•˜ê³  í˜ì´ì§€ë¥¼ npm run buildë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ ëª¨ìŠµì„ ë³´ì.\r\n\u003cimg src=\"nextjs.png\" alt=\"nextjs\"/\u003e\r\n\r\nì•ì„œ ì‚´í´ë³¸ ìƒì„¸ í˜ì´ì§€ì¸ [...detail]ì™¸ì™€ /posts/[caregory], /posts/tag/[tag] ê¹Œì§€ ê° í˜ì´ì§€ ë³„ë¡œ ì›í•˜ëŠ” pathì™€ ë°ì´í„°ë¥¼ ì œê³µí–ˆë”ë‹ˆ ê°€ëŠ¥í•œ ëª¨ë“  ì¡°í•©ì„ ë¹Œë“œ ì‹œì ì— ë¶ˆëŸ¬ì™€ í˜ì´ì§€ë¡œ ë Œë”ë§í–ˆë‹¤.\r\n(ê·¸ë˜ì„œ ë’¤ì§€ê²Œ ë°°í¬ê°€ ì˜¤ë˜ ê±¸ë¦°ë‹¤)\r\nì´ë ‡ê²Œ í˜ì´ì§€ë¥¼ ëª¨ì¡°ë¦¬ ë¹Œë“œí•´ë‘ê³  ë°°í¬í•˜ë©´ ì‚¬ìš©ìëŠ” ì´ë¯¸ ì™„ì„±ë˜ì–´ ìˆëŠ” í˜ì´ì§€ë¥¼ ë°›ê¸°ë§Œ í•˜ë©´ ë˜ë¯€ë¡œ êµ‰ì¥íˆ ë¹ ë¥´ê²Œ í•´ë‹¹ í˜ì´ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\r\n\r\n## ë§ˆì¹˜ë©°\r\ní˜ì´ì§€ì˜ ë‹¤ì–‘í•œ ë Œë”ë§ ë°©ì‹ì¸ CSR, SSRì— ëŒ€í•´ì„œ ê·¸ë¦¬ê³  ë” ë‚˜ì•„ê°€ SSGì— ëŒ€í•´ì„œë„ ì‚´í´ë³´ì•˜ë‹¤. ë­ê°€ í™•ì‹¤íˆ ë” ì¢‹ë‹¤ë¼ê¸° ë³´ë‹¤ëŠ” ê° ë°©ì‹ì„ í™•ì‹¤íˆ ì´í•´í•˜ê³  ìƒí™©ì— ë”°ë¼ ì ì ˆíˆ ì´ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•  ë“¯ í•˜ë‹¤.\r\n"}]},"__N_SSG":true},"page":"/","query":{},"buildId":"M_ik3B_k46au3dvCt_K_P","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>