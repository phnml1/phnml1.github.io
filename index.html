<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/media/a15f2fce4b98b461-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/3d9ea938b6afa941-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/ee285b05ac47a625-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/1de9c871cd3a3669-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/bf54e24be5d8358f-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/02701f268eb7de16-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/69510bfdb63b0012.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/69510bfdb63b0012.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-66d32731bdd20e83.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-aa55ffd08992d156.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-9f85f92bf56823a0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/108-ababe0d3bb81df72.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/index-e79a9432598a7906.js" defer="" crossorigin=""></script><script src="/_next/static/VuVQQwMeKuommrOmHA7pr/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/VuVQQwMeKuommrOmHA7pr/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"posts":[{"slug":"posts/React/setStateëŠ” ë¹„ë™ê¸°ì¼ê¹Œ","title":"setStateëŠ” ë¹„ë™ê¸°ì¼ê¹Œ","date":"2025-03-11T13:00:24.000Z","image":"index.png","summary":"setStateê°€ ì™œ ë™ê¸° í•¨ìˆ˜ì¸ì§€, ê·¸ë¦¬ê³  reactì„œëŠ” setStateë¥¼ í†µí•´ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ì–´ë–»ê²Œ í•˜ëŠ”ì§€ ì•Œì•„ë³´ì.","tags":["react","JavaScript","deepdive","useState","hook"],"content":"# setStateëŠ” ë¹„ë™ê¸°ì¼ê¹Œ?\r\n\r\n## ğŸ”¹setStateê°€ ì™œ ë°”ë¡œ ë°˜ì˜ì´ ì•ˆë˜ì§€?\r\nReactì—ì„œ `setState`ë¥¼ ì‚¬ìš©í•˜ë‹¤ ë³´ë©´, ì²˜ìŒì— ë§ì€ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìë“¤ì´ í•œ ê°€ì§€ ì˜ë¬¸ì„ ê°€ì§€ê²Œ ëœë‹¤.\r\n```js\r\nconst [count, setCount] = useState(0);\r\n\r\nconst handleClick = () =\u003e {\r\n  setCount(count + 1);\r\n  console.log(count);\r\n};\r\n```\r\n`console.log(count)`ì—ì„œëŠ” ì—…ë°ì´íŠ¸ëœ ê°’ì¸ **1**ì´ ì¶œë ¥ë˜ì–´ì•¼ í• ê±°ê°™ì§€ë§Œ,  ê·¸ê²Œ ì•„ë‹Œì•„ë‹ˆë¼ **0**ì´ ì¶œë ¥ë©ë‹ˆë‹¤.\r\n\r\nì½”ë“œë§Œ ë´¤ì„ ë•ŒëŠ” ì—…ë°ì´íŠ¸ëœ ê°’ì¸ 1ì´ ì¶œë ¥ë˜ëŠ”ê²Œ ë§ëŠ” ê±° ê°™ì€ë° **ì™œ ì´ì „ ê°’ì¸ 0ì´ ì¶œë ¥ë˜ëŠ”ê±¸ê¹Œ?** async awaitë¥¼ ì“°ì§€ ì•Šì§€ë§Œ setStateê°€ ë¹„ë™ê¸°ë¼ ê·¸ëŸ°ê±¸ê¹Œ?\r\n\r\nê²°ë¡ ë¶€í„° ë§í•˜ìë©´ setStateëŠ” **ë¹„ë™ê¸° ì²˜ëŸ¼ ë™ì‘í•˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” ë™ê¸°í•¨ìˆ˜ì´ë‹¤.**\r\n ì´ì— ëŒ€í•´ ìì„¸íˆ ì‚´í´ë³´ì.\r\n\r\n## ğŸ”¹ setStateì˜ ë™ì‘ë°©ì‹\r\n\r\nsetState ìì²´ëŠ” ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ, setStateë¡œ ì¸í•œ ìƒíƒœì—…ë°ì´íŠ¸ì™€ ë Œë”ë§ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤. \r\n\r\nì™œ setStateê°€ ë™ê¸°ì ì¸ì§€ëŠ” ìš°ì„  ì´ë”°ê°€ ì‚´í´ë³´ê³ , ìš°ì„  setStateì˜ ë™ì‘ë°©ì‹ì— ëŒ€í•´ ì•Œì•„ë³´ì.\r\n\r\n\r\n```js\r\nconst [count, setCount] = useState(0);\r\n\r\nconst handleClick = () =\u003e {\r\n  setCount(count + 1);\r\n  console.log(count); // ì¶œë ¥ê°’ì€ 1ì´ë‹¤.\r\n};\r\n```\r\nì•„ê¹Œ ì „ ì‚´í´ë´¤ë˜ ì½”ë“œì´ë‹¤. ì™œ ì—…ë°ì´íŠ¸ ëœ ê°’ì´ ë°”ë¡œ ë°˜ì˜ì´ ì•ˆë˜ì—ˆë˜ ê±¸ê¹Œ?\r\n\r\nì´ìœ ëŠ” ReactëŠ” ìµœì í™”ë¥¼ ìœ„í•´ ìƒíƒœ ë³€ê²½ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\r\n\r\n### ë°°ì¹˜ ì—…ë°ì´íŠ¸ (Batching)\r\nReactëŠ” ì—¬ëŸ¬ ê°œì˜ `setState` í˜¸ì¶œì„ í•˜ë‚˜ë¡œ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë¬¶ì–´ì„œ ì²˜ë¦¬í•˜ê³ , ì´ê²ƒì„ **ë°°ì¹˜(batch) ì—…ë°ì´íŠ¸**ë¥¼ ìˆ˜í–‰í•œë‹¤ê³ í•©ë‹ˆë‹¤.  \r\nì¦‰, ê°™ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ ì—¬ëŸ¬ ê°œì˜ `setState`ê°€ í˜¸ì¶œë˜ë”ë¼ë„ **í•œ ë²ˆì˜ ë Œë”ë§ì—ì„œ ì²˜ë¦¬**ë©ë‹ˆë‹¤. \r\n\r\n```js\r\nconst handleClick = () =\u003e {\r\n  setCount(10);\r\n  setCount(count + 1);\r\n  setCount(30);\r\n  console.log(\"í˜„ì¬ count ê°’:\", count);\r\n};\r\n```\r\nì¦‰ ìœ„ì˜ 3ê°œì˜ setStateëŠ” í•œë²ˆì— í•¨ìˆ˜ ë‚´ ì—ì„œ í•˜ë‚˜ì”© ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ, **ë¹„ë™ê¸°ì ìœ¼ë¡œ í•œë²ˆì— ì²˜ë¦¬ê°€ ë˜ëŠ” ê²ƒ ì´ë‹¤.**\r\n\r\nê·¸ë ‡ë‹¤ë©´ ë‹¤ìŒ ì½”ë“œë¥¼ ë³´ì.\r\n```js\r\nconst handleClick = () =\u003e {\r\n  setCount(count + 1);\r\n  setCount(count + 1);\r\n  setCount(count + 1);\r\n  console.log(\"í˜„ì¬ count ê°’:\", count);\r\n};\r\n```\r\në‹¤ìŒê³¼ ê°™ì€ ê²½ìš° í˜„ì¬ count ê°’ì´ 0ìœ¼ë¡œ ì¶œë ¥ë˜ëŠ” ê²ƒì€ ì´ì œ ì•Œ ê²ƒì´ë‹¤.\r\n```js\r\ní˜„ì¬ count ê°’: 0  // ì´ì „ ê°’ì´ ì¶œë ¥\r\n```\r\nê·¸ë ‡ë‹¤ë©´ ìµœì¢…ì ìœ¼ë¡œ count ê°’ì€ ëª‡ì´ ë ê¹Œ? `\r\n\r\n`setCount(count + 1)`ê°€ 3ë²ˆ í˜¸ì¶œë˜ì—ˆì§€ë§Œ, ìµœì¢…ì ìœ¼ë¡œ `count` ê°’ì€ **1ë§Œ ì¦ê°€**í•œë‹¤.\r\n\r\nì´ìœ ëŠ” ì—­ì‹œ ReactëŠ” ë™ì¼í•œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ì—ì„œ ì—¬ëŸ¬ ê°œì˜ `setState`ë¥¼ **ë°°ì¹˜ ì²˜ë¦¬**í•˜ì—¬ í•˜ë‚˜ë¡œ í•©ì³ë²„ë¦¬ê¸° ë•Œë¬¸ì´ë‹¤.\r\nì¦‰, \r\n```js\r\nsetCount(count + 1);  // count + 1 â†’ 0 + 1 â†’ setCount(1)\r\nsetCount(count + 1);  // count + 1 â†’ 0 + 1 â†’ setCount(1)\r\nsetCount(count + 1);  // count + 1 â†’ 0 + 1 â†’ setCount(1)\r\n\r\n```\r\n-   `setState`ëŠ” ë°”ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ, **ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì—ì„œëŠ” `count` ê°’ì´ 0ìœ¼ë¡œ ìœ ì§€ë¨**\r\n-   ë”°ë¼ì„œ ëª¨ë“  `setCount(count + 1)`ì€ ê²°êµ­ `setCount(1)`ê³¼ ë™ì¼\r\n\r\në§Œì¼ ì˜ë„í•œ ë°”ëŒ€ë¡œ countë¥¼ 1ì”©ì¦ê°€ì‹œì¼œ 3ìœ¼ë¡œ ë§Œë“¤ê³  ì‹¶ë‹¤ë©´, \r\n```js\r\nconst handleClick = () =\u003e {\r\n  setCount(prev =\u003e prev + 1);\r\n  setCount(prev =\u003e prev + 1);\r\n  setCount(prev =\u003e prev + 1);\r\n};\r\n```\r\nì´ëŸ° ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ ì§œë©´, ë°°ì¹˜ ì²˜ë¦¬ì™€ ìƒê´€ì—†ì´ ì´ì „ ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ìƒíƒœë¥¼ ë³€ê²½í•œë‹¤.\r\n\r\nì´ë ‡ê²Œ setStateëŠ” Reactë‚´ì—ì„œ ë¹„ë™ê¸°ì ìœ¼ë¡œ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ”ë°, ì™œ ê·¸ëŸ¼ì—ë„ ë™ê¸°í•¨ìˆ˜ë¼ê³  í•˜ëŠ”ê±¸ê¹Œ?\r\n\r\n## ğŸ”¹ setStateê°€ ë™ê¸°í•¨ìˆ˜ì¸ ì´ìœ \r\n\r\n**setState**ì˜ ìƒíƒœ ì—…ë°ì´íŠ¸ëŠ” Reactë‚´ì—ì„œ ë°°ì¹˜ì²˜ë¦¬ë¥¼ í†µí•´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ë§Œ, setState ìì²´ëŠ” **í˜¸ì¶œ ì¦‰ì‹œ ì‹¤í–‰**ë˜ë¯€ë¡œ **ë™ê¸° í•¨ìˆ˜**ì´ë‹¤.\r\n\r\nì¦‰, ì˜ˆë¥¼ë“¤ì–´ì„œ,\r\n```js\r\nconst handleClick = () =\u003e {\r\n  console.log(\"Before setState:\", count);\r\n  setCount(count + 1);\r\n  console.log(\"After setState:\", count);\r\n};\r\n```\r\nìœ„ì˜ `setCount(count + 1);` í•¨ìˆ˜ ìì²´ëŠ” ì‹¤í–‰ë  ë•Œ, ì‹¤í–‰ë˜ëŠ” ì¦‰ì‹œ í•¨ìˆ˜ê°€ ì¢…ë£Œê°€ ëœë‹¤. \r\n`setCount`ê°€ ì§„ì§œ ë¹„ë™ê¸° í•¨ìˆ˜ì˜€ë‹¤ë©´, **ë¹„ë™ê¸° ì‘ì—…(Promise ë“±)ì„ ë°˜í™˜**í•´ì•¼ í•˜ì§€ë§Œ ê·¸ëŸ° ë™ì‘ì„ í•˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.\r\n\r\në‹¤ë§Œ setCountê°€ ì‹¤í–‰ë˜ì–´ ìƒíƒœ ë³€ê²½ì„ ìš”ì²­í•˜ë©´, \r\n**Reactê°€ ì´ ìš”ì²­ì„ í˜„ì¬ ìˆ˜í–‰ì¤‘ì¸ ì´ë²¤íŠ¸ê°€ í•¸ë“¤ëŸ¬ê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦° í›„ ë°°ì¹˜ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ë‹¤.**\r\n \r\n setStateê°€ ë¹„ë™ê¸° í•¨ìˆ˜ ì˜€ë‹¤ë©´,\r\n ```js\r\n const handleClick = async () =\u003e {\r\n  console.log(\"Before setState:\", count);\r\n  await setCount(count + 1);  //  ì‹¤ì œë¡œëŠ” ì´ë ‡ê²Œ ì‚¬ìš© ë¶ˆê°€ëŠ¥\r\n  console.log(\"After setState:\", count);\r\n};\r\n ```\r\n ì´ëŸ°ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•˜ì§€ë§Œ, `setState`ëŠ” Promiseë¥¼ ë°˜í™˜í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ `await`ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\r\n \r\n ì¦‰ setStateëŠ” **Reactì˜ ë‚´ë¶€ì ì¸ ìƒíƒœ ì—…ë°ì´íŠ¸ì™€ ë Œë”ë§ ë°©ì‹**ìœ¼ë¡œ ì¸í•´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ì—„ë°€íˆ ë§í•˜ë©´ **ë™ê¸° í•¨ìˆ˜**ì´ë‹¤.\r\n\r\n## ê²°ë¡ \r\n\r\nsetStateë¥¼ í†µí•´ Reactê°€ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê³¼ì •ì„ ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\r\n\r\n1.  `setState` í˜¸ì¶œ â†’ ìƒíƒœ ë³€ê²½ ìš”ì²­ (ë™ê¸°ì ìœ¼ë¡œ ë™ì‘)\r\n2.  Reactê°€ í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼\r\n3.  **ë°°ì¹˜ ì²˜ë¦¬**ë¥¼ ìˆ˜í–‰í•˜ì—¬ ì—¬ëŸ¬ ê°œì˜ `setState`ë¥¼ í•œêº¼ë²ˆì— ì²˜ë¦¬(ë¹„ë™ê¸°ì  ìµœì í™”)\r\n4.  ìƒíƒœ ì—…ë°ì´íŠ¸ í›„ ë¦¬ë Œë”ë§ì„ íŠ¸ë¦¬ê±°\r\n\r\n`setState`ëŠ” ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ,  Reactì˜ **ìƒíƒœ ë³€ê²½ê³¼ ë Œë”ë§ ê³¼ì •ì´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ìµœì í™”ë˜ì–´ ì‹¤í–‰ëœë‹¤.**"},{"slug":"posts/React/Reactì™€ Nextjsì˜ Suspense","title":"Reactì™€ Next.jsì˜ Suspenseì— ëŒ€í•´ ì•Œì•„ë³´ì","date":"2024-11-25T00:00:24.000Z","image":"index.png","summary":"Reactì™€ Next.jsì—ì„œ Suspenseë¥¼ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë‹¤ë¥´ê²Œ ë‹¤ë£¨ëŠ”ì§€, ê·¸ë¦¬ê³  Next.jsì—ì„œ ì´ë¡œì¸í•´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì—ëŸ¬ì™€ í•´ê²°ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì.","tags":["react","next.js","deepdive","SSR","Suspense","ë Œë”ë§"],"content":"\r\n## ë“¤ì–´ê°€ë©°\r\ní”„ë¡ íŠ¸ì—”ë“œì—ì„œ Reactì™€ Next.jsì—ì„œëŠ” ë¹„ë™ê¸° ë¡œì§ê³¼ ë°ì´í„° í˜ì¹­ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ **Suspense**ë¥¼ í™œìš©í•œë‹¤. \r\n\r\nReact 18ë¶€í„° ë³¸ê²©ì ìœ¼ë¡œ Suspenseë¥¼ í™œìš©í•˜ì—¬ ê´€ë ¨ëœ ë¡œì§ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”ë°, Reactì—ì„œ Suspenseë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•„ë³´ê³ , Next.jsì—ì„œëŠ” 13ì´ìƒ ë¶€í„° **ìë™í™”ëœ Suspense**ì— ëŒ€í•´, ê·¸ë¦¬ê³  ì´ë¡œ ì¸í•´ ë°œìƒí•œ ì—ëŸ¬ì™€ í•´ê²°ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³¼ ê²ƒì´ë‹¤.\r\n\r\n## Reactì˜ Suspense\r\nReactì˜ **Suspense**ëŠ” ë¹„ë™ê¸° ë¡œì§ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸° ìƒíƒœë¥¼ ì²˜ë¦¬í•œë‹¤. ë°ì´í„° ë¡œë”©, ì»´í¬ë„ŒíŠ¸ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ë“±ì„ ìœ„í•´ ì£¼ë¡œ ì‚¬ìš©ë˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤\r\n\r\n#### **Suspense ê¸°ë³¸ ë™ì‘ (React 18 ì´ìƒ)**\r\n\r\n1.  `Suspense`ëŠ” ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ì¼ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê±°ë‚˜ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ë Œë”ë§ì„ ì¤‘ë‹¨í•œë‹¤.\r\n2.  `fallback` í”„ë¡œí¼í‹°ì— ì§€ì •ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¨¼ì € ë Œë”ë§í•œë‹¤.\r\n3.  ì‘ì—…ì´ ì™„ë£Œë˜ë©´ `Suspense` ì•„ë˜ì˜ ì‹¤ì œ ì½˜í…ì¸ ë¥¼ ë Œë”ë§í•œë‹¤.\r\n\r\n```js\r\nimport React, { Suspense } from 'react';\r\n\r\nconst LazyComponent = React.lazy(() =\u003e import('./LazyComponent'));\r\n\r\nexport default function App() {\r\n  return (\r\n    \u003cSuspense fallback={\u003cdiv\u003eLoading...\u003c/div\u003e}\u003e\r\n      \u003cLazyComponent /\u003e\r\n    \u003c/Suspense\u003e\r\n  );\r\n}\r\n\r\n```\r\nì´ëŸ°ì‹ìœ¼ë¡œ ëª…ì‹œì ìœ¼ë¡œ Suspenseë¥¼ ë°°ì¹˜í•˜ì—¬ ì´ë¥¼ ì œì–´í•œë‹¤.\r\n\r\n`React.lazy`ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì§€ì—°ë¡œë”©í•  ë•Œ ì‚¬ìš©ë˜ë©° ì»´í¬ë„ŒíŠ¸ë¥¼ ì²˜ìŒë Œë”ë§ í•  ë•Œê¹Œì§€ ë¡œë“œí•˜ì§€ ì•ŠëŠ”ë‹¤.\r\n\r\nëŒ€ì‹ , í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ì‹¤ì œë¡œ í™”ë©´ì— ë Œë”ë§ë  ë•Œ, ì¦‰ \"**í•„ìš”í•  ë•Œ**\" ë¡œë“œí•œë‹¤.\r\n\r\nì´ë ‡ê²Œ `React.lazy()`ì™€ `Suspense`ë¥¼ ê°™ì´ í™œìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ì§€ì—° ë¡œë”©í•˜ê³ , ì´ˆê¸° ë¡œë”© ì„±ëŠ¥ì„ ê°œì„ í•œë‹¤.\r\n\r\n## Next.jsì—ì„œ ìë™í™”ëœ Suspense\r\n\r\nNext.js 13 ì´ìƒì—ì„œëŠ” App Routerë¥¼ ê¸°ë°˜ìœ¼ë¡œ **ìë™ Suspense**ê°€ ë„ì…ë˜ì—ˆë‹¤. Reactì˜ Suspenseì™€ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ë˜, ì¼ë¶€ ë™ì‘ì´ Next.jsì— ì˜í•´ ìë™í™”ê°€ ëœë‹¤.\r\n\r\n#### **Next.js ìë™ Suspense ë™ì‘**\r\n\r\n1.  ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ `fetch`ë‚˜ ë¹„ë™ê¸° ë¡œì§ì„ ì²˜ë¦¬í•  ë•Œ Suspenseê°€ ìë™ìœ¼ë¡œ ì ìš©ëœë‹¤.\r\n2.  `loading.js`ì™€ ê°™ì€ íŠ¹ìˆ˜ íŒŒì¼ì„ í™œìš©í•˜ì—¬ Suspenseì˜ `fallback` ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\r\n3.  í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš° ë³„ë„ë¡œ Suspenseë¥¼ ì§€ì •í•´ì•¼ ë™ì‘í•œë‹¤\r\n\r\nì¦‰ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¯¸ë¦¬ ë¹„ë™ê¸°ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œ,  ìë™ìœ¼ë¡œ ì§€ì—° ë¡œë”©ì´ ë˜ê³ , ë¡œë”©ì´ ë˜ëŠ” ë™ì•ˆ loading.tsxë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆëŠ” ê²ƒ ì´ë‹¤.\r\n\r\n```js\r\n// app/ì›í•˜ëŠ” ê²½ë¡œ í˜ì´ì§€/page.tsx (ì„œë²„ ì»´í¬ë„ŒíŠ¸) \r\nexport default async function Page() { \r\nconst data = await fetchData(); \r\n\t// ìë™ Suspense \r\n\treturn \u003cdiv\u003e{data}\u003c/div\u003e; \r\n}\r\n```\r\nìœ„ì˜ ì½”ë“œëŠ” Next.jsì˜ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ì„œë²„ ë‹¨ì—ì„œ ë¯¸ë¦¬ ë¶ˆëŸ¬ ì˜¬ ë•Œì˜ ì˜ˆì œì´ë‹¤. ë§Œì¼ loading.tsxë¥¼ ë§Œë“¤ë©´ ì´ë ‡ê²Œ ì„œë²„ì—ì„œ ë¯¸ë¦¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë™ì•ˆ ì‚¬ìš©ìì—ê²Œ ë¡œë”© ì¤‘ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤.\r\n\r\n```js\r\n// app/ì›í•˜ëŠ”-ê²½ë¡œ-í˜ì´ì§€/loading.tsx \r\nexport default function Loading() {\r\n return \u003cdiv\u003eLoading...\u003c/div\u003e; \r\n // ê°„ë‹¨í•œ ë¡œë”© ìƒíƒœ \r\n }\r\n```\r\nì´ëŸ¬í•œ ê²½ìš° ì›í•˜ëŠ” ê²½ë¡œì˜ í˜ì´ì§€ì— ì ‘ì†í•˜ëŠ” ë™ì•ˆ loading.tsxë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.\r\n\r\n## Next.jsì—ì„œ Reactì˜ Suspenseë¥¼ ê°™ì´ ì¨ë³´ì\r\n\r\nNext.jsì—ì„œ ë‚´ì¬ë˜ì–´ìˆëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¯¸ë¦¬ ë°ì´í„°ë¥¼ í˜ì¹­í•  ë•Œ ìë™ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” Suspense ê¸°ëŠ¥ ë¿ ì•„ë‹ˆë¼, ê·¸ ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ reactì˜ Suspense ì—­ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\r\n\r\në‹¤ìŒ ì˜ˆì œë¥¼ ë³´ì.\r\n```js\r\nimport { Suspense } from 'react';\r\nimport dynamic from 'next/dynamic';\r\n// ë¹„ë™ê¸° ì»´í¬ë„ŒíŠ¸\r\nconst LazyComponent = dynamic(() =\u003e import('./LazyComponent'), { suspense: true, // Suspenseë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì´ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤. });\r\n\r\nexport default function Page() {\r\nconst data = await fetchData();\r\n  return (\r\n    \u003cdiv\u003e\r\n      \u003ch1\u003eServer Side Rendered Data\u003c/h1\u003e\r\n      \u003cdiv\u003e{data}\u003c/div\u003e\r\n\r\n      \u003cSuspense fallback={\u003cdiv\u003eLoading...\u003c/div\u003e}\u003e\r\n        \u003cLazyComponent /\u003e\r\n      \u003c/Suspense\u003e\r\n    \u003c/div\u003e\r\n  );\r\n}\r\n```\r\n\r\n`next/dynamic`ì€ **Next.js**ì—ì„œ ì œê³µí•˜ëŠ” **ë™ì  import** ê¸°ëŠ¥ì´ë‹¤. ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ **ì§€ì—° ë¡œë”©**(Lazy Loading) í•  ìˆ˜ ìˆìœ¼ë©°, **ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)**ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤. \r\n\r\nì¦‰ **ë¹„ë™ê¸° ë¡œë”©**ì„ í†µí•´ ì„±ëŠ¥ ìµœì í™”ì™€ ì½”ë“œ ë¶„í• ì„ ì§€ì›í•˜ëŠ” ê²ƒì´ë‹¤.\r\n\r\n`next/dynamic`ì—ëŠ” ì—¬ëŸ¬ ì˜µì…˜ì´ ìˆëŠ”ë°\r\n\r\n- suspense :**React Suspense** ê¸°ëŠ¥ê³¼ í†µí•©í•˜ì—¬, ë™ì  ì»´í¬ë„ŒíŠ¸ ë¡œë”© ì¤‘ì— fallback UIë¥¼ í‘œì‹œí•  ìˆ˜ ìˆë‹¤.\r\n - loading:  \r\n\t  ```js \r\n\t  const LazyComponent = dynamic(() =\u003e import('./LazyComponent'), {\r\n\t  \t\tloading: () =\u003e \u003cdiv\u003eLoading...\u003c/div\u003e, \r\n\t  \t\t});\r\n\t  \r\n\t ```\r\n\t ì´ë ‡ê²Œ ì§ì ‘ ë¡œë”© ì»´í¬ë„ŒíŠ¸ë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤.\r\n- ssr: `next/dynamic`ì—ì„œëŠ” ì´ ë™ì  ë¡œë”© ì»´í¬ë„ŒíŠ¸ê°€ **ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§**ì—ì„œ ì œì™¸ë  ìˆ˜ ìˆë„ë¡ `ssr: false` ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œë§Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¡œë“œí•  ìˆ˜ ìˆê²Œ í•œë‹¤. (ì´ ë¶€ë¶„ìœ¼ë¡œ ì—ëŸ¬ë¥¼ í•´ê²°í•˜ëŠ” í¬ìŠ¤íŠ¸ë¥¼ ì¶”í›„ ì“¸ ê²ƒì´ë‹¤.)\r\n\r\nLazyComponentê°€ ë³¼ë¥¨ì´ ë†’ì€ í˜ì¹­ ì‘ì—…ì„ í•œë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ Suspenseë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë™ì•ˆ fallback ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤.\r\n\r\nì¦‰, ìœ„ì˜ ì½”ë“œì—ì„œ Suspenseê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ” ì§€ ì •ë¦¬í•´ë³´ìë©´\r\n\r\n- ì„œë²„ ë‹¨ì—ì„œ ë°ì´í„°ë¥¼ í˜ì¹­í•˜ì—¬ ë¯¸ë¦¬ê°€ì ¸ì˜¤ê³ , ê·¸ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‹œê°„ ë™ì•ˆ loading.tsxì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤€ë‹¤.\r\n-  ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ í˜ì´ì§€ê°€ ë¡œë“œëœí›„ Suspenseë¡œ ê°ì‹¸ì¤€ í´ë¼ì´ì–¸íŠ¸ ë‹¨ì˜ **LazyComponentì—ì„œ ì‘ì—…ì„ í•˜ëŠ” ë™ì•ˆ** **fallback ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤€ë‹¤.**\r\n-  LazyComponentì˜ ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ë³¸ë˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤€ë‹¤.\r\n\r\n## ë§ˆì¹˜ë©°\r\n Reactì™€ Next.jsì—ì„œ Suspenseë¥¼ ì–´ë–»ê²Œ ì“¸ ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ì„œ, ê·¸ë¦¬ê³  next.jsì—ì„œ ë‘ê°œë¥¼ ê°™ì´ ì“°ëŠ” ì˜ˆì œê¹Œì§€ ì‚´í´ë³´ì•˜ë‹¤. ê°œë°œ í•˜ë©° ì•ìœ¼ë¡œ ë³´ë‹¤ ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ê³¼ ìµœì í™”ë¥¼ ìœ„í•´ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ë“¯í•˜ë‹¤."},{"slug":"posts/React/ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‹œì‘í•˜ê¸°","title":"ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‹œì‘í•˜ê¸°","date":"2024-11-18T17:00:24.000Z","image":"index.png","summary":"React Deepdive ì„œì ì˜ React ì»´í¬ë„ŒíŠ¸ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì •ë¦¬í•˜ì˜€ë‹¤.","tags":["react","í…ŒìŠ¤íŠ¸","deepdive"],"content":"\r\n## ë“¤ì–´ê°€ë©°\r\në¦¬ì•¡íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸ë¼ëŠ” ê°œë…ì´ ìˆë‹¤ëŠ” ê±¸ ì•Œê³  ìˆì—ˆì§€ë§Œ, ì •í™•íˆ ë¬´ìŠ¨ ê°œë…ì¸ì§€ ë˜í•œ êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–»ê²Œ í•˜ëŠ” ê±´ì§€ ëª°ëì—ˆë‹¤. \r\n\r\nreact deep diveë¥¼ ê³µë¶€í•˜ë©° `08 ì¢‹ì€ ë¦¬ì•¡íŠ¸ ì½”ë“œ ì‘ì„±ì„ ìœ„í•œ í™˜ê²½ êµ¬ì¶•í•˜ê¸°` ë‹¨ì› ì—ì„œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë¶€ë¶„ì´ ìˆì–´ì„œ ì´ ë¶€ë¶„ì—ì„œ ê³µë¶€í•˜ë©´ì„œ ë°°ìš´ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ê¸°ì´ˆì ì¸ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬í•´ë³´ê³ ì í•œë‹¤. \r\n\r\n## ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ \r\n\r\nê¸°ë³¸ì ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ì—ì„œ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ ì§„í–‰ëœë‹¤.\r\n\r\n\t1. ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•œë‹¤.\r\n\t2. ì»´í¬ë„ŒíŠ¸ì—ì„œ íŠ¹ì • ì•¡ì…˜ì„ ìˆ˜í–‰í•œë‹¤.\r\n\t3. ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ê³¼ 2ë²ˆì˜ ì•¡ì…˜ì„ í†µí•´ ê¸°ëŒ€í•˜ëŠ” ê²°ê³¼ì™€ ì‹¤ì œ ê²°ê³¼ì™€ ë¹„êµí•œë‹¤.\r\n\r\n**App.tsx**\r\n```js\r\nimport React from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport StaticComponent from './components/StaticComponent';\r\n\r\nfunction App() {\r\n  return (\r\n    \u003cdiv className=\"App\"\u003e\r\n      \u003cheader className=\"App-header\"\u003e\r\n        \u003cimg src={logo} className=\"App-logo\" alt=\"logo\" /\u003e\r\n        \u003cp\u003e\r\n          Edit \u003ccode\u003esrc/App.tsx\u003c/code\u003e and save to reload.\r\n        \u003c/p\u003e\r\n        \u003ca\r\n          className=\"App-link\"\r\n          href=\"https://reactjs.org\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        \u003e\r\n          Learn React\r\n        \u003c/a\u003e\r\n      \u003c/header\u003e\r\n      \u003cStaticComponent /\u003e\r\n    \u003c/div\u003e\r\n  );\r\n}\r\n\r\nexport default App;\r\n```\r\n**í…ŒìŠ¤íŠ¸ ì½”ë“œ**\r\n```js\r\nimport React from 'react';\r\nimport { render, screen } from '@testing-library/react';\r\nimport App from './App';\r\n\r\ntest('renders learn react link', () =\u003e {\r\n  render(\u003cApp /\u003e);\r\n  const linkElement = screen.getByText(/learn react/i);\r\n  expect(linkElement).toBeInTheDocument();\r\n});\r\n\r\n```\r\nApp.test.tsxê°€ App.tsxì—ì„œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ì´ ìš”ì•½í•  ìˆ˜ ìˆë‹¤.\r\n1. App ë Œë”ë§ \r\n2. Appì—ì„œ 'leartn react' ë¼ëŠ” ë¬¸ìì—´ ê°€ì§„ DOM ìš”ì†Œ ì°¾ê¸° \r\n3. expect(linkElement).toBeInTheDocument() ë¼ëŠ” ì–´ì„¤ì…˜ì„ í™œìš©í•´ 2ë²ˆì—ì„œ ì°¾ì€ ìš”ì†Œê°€ document ë‚´ë¶€ì— ìˆëŠ”ì§€ í™•ì¸í•˜ê¸°\r\n\t\r\nìœ„ì™€ ê°™ì´ ì¼ë°˜ì ì¸ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ëŠ” íŠ¹ì •í•œ ë¬´ì–¸ê°€ë¥¼ ì§€ë‹Œ HTML ìš”ì†Œê°€ ìˆëŠ”ì§€ ì—¬ë¶€ì´ë‹¤. \r\n\r\nì´ë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ 3ê°€ì§€ì¸ë°,\r\n\r\n- **getBy...** : ì¸ìˆ˜ì— ì¡°ê±´ì— ë§ëŠ” ìš”ì†Œë¥¼ ë°˜í™˜í•œë‹¤. ë³µìˆ˜ ê°œë¥¼ ì°¾ìœ¼ë ¤ë©´ getAllBy.. ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  \r\n- **findBy...** : getByì™€ ìœ ì‚¬í•˜ì§€ë§Œ Promiseë¥¼ ë°˜í™˜, ì¦‰ ë¹„ë™ê¸°ë¡œ ì°¾ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ë©° ê¸°ë³¸ì ìœ¼ë¡œ 1sì˜ íƒ€ì„ì•„ì›ƒì„ ê°€ì§€ê³  ìˆë‹¤.  ë³µìˆ˜ ê°œëŠ” findAllByë¥¼ ì‚¬ìš©í•œë‹¤.\r\n- **queryBy...** : ì¸ìˆ˜ì— ì¡°ê±´ì— ë§ëŠ” ìš”ì†Œë¥¼ ë°˜í™˜í•˜ëŠ” ëŒ€ì‹ , ìš”ì†Œë¥¼ ì°¾ì§€ ëª»í•œë‹¤ë©´ nullì´ ë°˜í™˜ëœë‹¤. ì°¾ì§€ ëª»í•œê²½ìš° ì— ì—ëŸ¬ë¥¼ ì¼ìœ¼í‚¤ì§€ ì•Šê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤. ë³µìˆ˜ ê°œëŠ” queryAllByë¥¼ ì‚¬ìš©í•œë‹¤.\r\n\r\n\r\nì ê·¸ëŸ¼ ë³¸ê²©ì ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì.\r\n\r\n\r\n\r\n## ì •ì  ì»´í¬ë„ŒíŠ¸\r\n\r\n`ì •ì  ì»´í¬ë„ŒíŠ¸`ë€ ë³„ë„ì˜ ìƒíƒœê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ í•­ìƒ ê°™ì€ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\r\n\r\n**ì •ì  ì»´í¬ë„ŒíŠ¸**\r\n```js\r\nimport { memo } from 'react'\r\n\r\nconst AnchorTagComponent = memo(function AnchorTagComponent({\r\n  name,\r\n  href,\r\n  targetBlank,\r\n}: {\r\n  name: string\r\n  href: string\r\n  targetBlank?: boolean\r\n}) {\r\n  return (\r\n    \u003ca\r\n      href={href}\r\n      target={targetBlank ? '_blank' : undefined}\r\n      rel=\"noopener noreferrer\"\r\n    \u003e\r\n      {name}\r\n    \u003c/a\u003e\r\n  )\r\n})\r\n\r\nexport default function StaticComponent() {\r\n  return (\r\n    \u003c\u003e\r\n      \u003ch1\u003eStatic Component\u003c/h1\u003e\r\n      \u003cdiv\u003eìœ ìš©í•œ ë§í¬\u003c/div\u003e\r\n\r\n      \u003cul data-testid=\"ul\" style={{ listStyleType: 'square' }}\u003e\r\n        \u003cli\u003e\r\n          \u003cAnchorTagComponent\r\n            targetBlank\r\n            name=\"ë¦¬ì•¡íŠ¸\"\r\n            href=\"https://reactjs.org\"\r\n          /\u003e\r\n        \u003c/li\u003e\r\n        \u003cli\u003e\r\n          \u003cAnchorTagComponent\r\n            targetBlank\r\n            name=\"ë„¤ì´ë²„\"\r\n            href=\"https://www.naver.com\"\r\n          /\u003e\r\n        \u003c/li\u003e\r\n        \u003cli\u003e\r\n          \u003cAnchorTagComponent name=\"ë¸”ë¡œê·¸\" href=\"https://yceffort.kr\" /\u003e\r\n        \u003c/li\u003e\r\n      \u003c/ul\u003e\r\n    \u003c/\u003e\r\n  )\r\n}\r\n```\r\n\r\nì´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë§í¬ê°€ ì œëŒ€ë¡œ ìˆëŠ”ì§€ í™•ì¸í•´ë³¼ ê²ƒì´ë‹¤.\r\n\r\n**í…ŒìŠ¤íŠ¸ ì½”ë“œ**\r\n```js\r\nimport { render, screen } from '@testing-library/react'\r\n\r\nimport StaticComponent from './index'\r\n\r\nbeforeEach(() =\u003e {\r\n  render(\u003cStaticComponent /\u003e)\r\n})\r\n\r\ndescribe('ë§í¬ í™•ì¸', () =\u003e {\r\n  it('ë§í¬ê°€ 3ê°œ ì¡´ì¬í•œë‹¤.', () =\u003e {\r\n    const ul = screen.getByTestId('ul')\r\n    expect(ul.children.length).toBe(3)\r\n  })\r\n\r\n  it('ë§í¬ ëª©ë¡ì˜ ìŠ¤íƒ€ì¼ì´ squareë‹¤.', () =\u003e {\r\n    const ul = screen.getByTestId('ul')\r\n    expect(ul).toHaveStyle('list-style-type: square;')\r\n  })\r\n})\r\n\r\ndescribe('ë¦¬ì•¡íŠ¸ ë§í¬ í…ŒìŠ¤íŠ¸', () =\u003e {\r\n  it('ë¦¬ì•¡íŠ¸ ë§í¬ê°€ ì¡´ì¬í•œë‹¤.', () =\u003e {\r\n    const reactLink = screen.getByText('ë¦¬ì•¡íŠ¸')\r\n    expect(reactLink).toBeVisible()\r\n  })\r\n\r\n  it('ë¦¬ì•¡íŠ¸ ë§í¬ê°€ ì˜¬ë°”ë¥¸ ì£¼ì†Œë¡œ ì¡´ì¬í•œë‹¤.', () =\u003e {\r\n    const reactLink = screen.getByText('ë¦¬ì•¡íŠ¸')\r\n\r\n    expect(reactLink.tagName).toEqual('A')\r\n    expect(reactLink).toHaveAttribute('href', 'https://reactjs.org')\r\n  })\r\n})\r\n\r\ndescribe('ë„¤ì´ë²„ ë§í¬ í…ŒìŠ¤íŠ¸', () =\u003e {\r\n  it('ë„¤ì´ë²„ ë§í¬ê°€ ì¡´ì¬í•œë‹¤.', () =\u003e {\r\n    const naverLink = screen.getByText('ë„¤ì´ë²„')\r\n    expect(naverLink).toBeVisible()\r\n  })\r\n\r\n  it('ë„¤ì´ë²„ ë§í¬ê°€ ì˜¬ë°”ë¥¸ ì£¼ì†Œë¡œ ì¡´ì¬í•œë‹¤.', () =\u003e {\r\n    const naverLink = screen.getByText('ë„¤ì´ë²„')\r\n\r\n    expect(naverLink.tagName).toEqual('A')\r\n    expect(naverLink).toHaveAttribute('href', 'https://www.naver.com')\r\n  })\r\n})\r\n\r\ndescribe('ë¸”ë¡œê·¸ ë§í¬ í…ŒìŠ¤íŠ¸', () =\u003e {\r\n  it('ë¸”ë¡œê·¸ ë§í¬ê°€ ì¡´ì¬í•œë‹¤.',()=\u003e{\r\n    const blogLink = screen.getByText('ë¸”ë¡œê·¸')\r\n    expect(blogLink).toBeVisible()\r\n  })\r\n  it('ë¸”ë¡œê·¸ ë§í¬ê°€ ì˜¬ë°”ë¥¸ ì£¼ì†Œë¡œ ì¡´ì¬í•œë‹¤.', ()=\u003e{\r\n    const blogLink = screen.getByText('ë¸”ë¡œê·¸')\r\n\r\n    expect(blogLink.tagName).toEqual('A');\r\n    expect(blogLink).toHaveAttribute('href','https://yceffort.kr')\r\n  })\r\n\r\n  it('ë¸”ë¡œê·¸ëŠ” ê°™ì€ ì°½ì—ì„œ ì—´ë ¤ì•¼ í•œë‹¤.', () =\u003e {\r\n    const blogLink = screen.getByText('ë¸”ë¡œê·¸');\r\n    expect(blogLink).not.toHaveAttribute('target');\r\n  })\r\n})\r\n```\r\nê° í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê¸°ì „ì— StaticComponentë¥¼ ë Œë”ë§í•˜ê³  describeë¡œ ì—°ê´€ëœ í…ŒìŠ¤íŠ¸ë¥¼ ë¬¶ì–´ì„œ itìœ¼ë¡œ it í•¨ìˆ˜ ë‚´ë¶€ì— ìˆ˜í–‰í•˜ëŠ” í…ŒìŠ¤íŠ¸íŒŒì¼ì´ë‹¤.\r\n\r\nëª‡ ê°€ì§€ ìƒˆë¡œìš´ jest ë©”ì„œë“œê°€ ë³´ì¸ë‹¤.\r\n\r\n- **beforeEach** : ê° í…ŒìŠ¤íŠ¸ë“¤ì„ ì‹¤í–‰í•˜ê¸° ì „ì— ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜  \r\n- **describe** : ë¹„ìŠ·í•œ ì†ì„±ì„ ê°€ì§„ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ìŒ describe ì•ˆì— describeë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒë„ ê°€ëŠ¥  \r\n- **it** : testì™€ ì™„ì „íˆ ë™ì¼í•˜ë©° ì¶•ì•½ì–´ì´ë‹¤.  \r\n- **testId** : getë“±ì˜ ì„ íƒìë¡œ ì„ íƒí•˜ê¸° ì–´ë µê±°ë‚˜ ê³¤ë€í•œ ìš”ì†Œë¥¼ ì„ íƒí•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.\r\n`\r\nì°¸ê³ ë¡œ HTMLì— data-testidë¥¼ ì¶”ê°€í•˜ë©´ getByTestIdë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\r\nì´ëŠ” buttonì˜ ê°œìˆ˜ê°€ ë§ì„ ë•Œì™€ ê°™ì€ íŠ¹ì • ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\r\n`\r\n\r\n## ë™ì  ì»´í¬ë„ŒíŠ¸\r\nìƒíƒœê°’ì´ ìˆëŠ” ì»´í¬ë„ŒíŠ¸, ì˜ˆë¥¼ ë“¤ì–´ useStateë¥¼ ì‚¬ìš©í•´ ìƒíƒœê°’ì„ ê´€ë¦¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸í• ê¹Œ? \r\n\r\nì¼ë°˜ì ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ì •ì ì¸ ê²½ìš°ë³´ë‹¤ ë™ì ì¸ ê²½ìš°ê°€ í›¨ì”¬ ë§ë‹¤.\r\n\r\nì´ ê²½ìš°ë„ ì‚´í´ë³´ì.\r\n```js\r\nimport { useState } from 'react'\r\n\r\nexport function InputComponent() {\r\n  const [text, setText] = useState('')\r\n\r\n  function handleInputChange(event: React.ChangeEvent\u003cHTMLInputElement\u003e) {\r\n    const rawValue = event.target.value\r\n    const value = rawValue.replace(/[^A-Za-z0-9]/gi, '')\r\n    setText(value)\r\n  }\r\n\r\n  function handleButtonClick() {\r\n    alert(text)\r\n  }\r\n\r\n  return (\r\n    \u003c\u003e\r\n      \u003clabel htmlFor=\"input\"\u003eì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\u003c/label\u003e\r\n      \u003cinput\r\n        aria-label=\"input\"\r\n        id=\"input\"\r\n        value={text}\r\n        onChange={handleInputChange}\r\n        maxLength={20}\r\n      /\u003e\r\n      \u003cbutton onClick={handleButtonClick} disabled={text.length === 0}\u003e\r\n        ì œì¶œí•˜ê¸°\r\n      \u003c/button\u003e\r\n    \u003c/\u003e\r\n  )\r\n}\r\n```\r\nì‚¬ìš©ìì˜ í‚¤ë³´ë“œ íƒ€ì´í•‘ ì…ë ¥ì„ ë°›ëŠ” input, ì´ë¥¼ alertë¡œ ë„ìš°ëŠ” buttonìœ¼ë¡œ êµ¬ì„±ëœ ê°„ë‹¨í•œ ì»´í¬ë„ŒíŠ¸ë‹¤. \r\n\r\ninputì€ ìµœëŒ€ 20ìê¹Œì§€, í•œê¸€ ì…ë ¥ë§Œ ê°€ëŠ¥í•˜ë„ë¡ ì œí•œë˜ì–´ìˆìœ¼ë©°, ì´ëŠ” onChangeì—ì„œ ì •ê·œì‹ì„ í†µí•´ ì‘ì„±ë˜ì–´ ìˆë‹¤. ê·¸ë¦¬ê³  ë²„íŠ¼ì€ ê¸€ìê°€ ì—†ìœ¼ë©´ disableë˜ë„ë¡ ì²˜ë¦¬ë˜ì–´ìˆê³ , í´ë¦­ ì‹œ alert ì°½ì„ ë„ìš´ë‹¤.\r\n\r\ní…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\r\n```js\r\nimport { fireEvent, render } from '@testing-library/react'\r\nimport userEvent from '@testing-library/user-event'\r\n\r\nimport { InputComponent } from '.'\r\n\r\ndescribe('InputComponent í…ŒìŠ¤íŠ¸', () =\u003e {\r\n  const setup = () =\u003e {\r\n    const screen = render(\u003cInputComponent /\u003e)\r\n    const input = screen.getByLabelText('input') as HTMLInputElement\r\n    const button = screen.getByText(/ì œì¶œí•˜ê¸°/i) as HTMLButtonElement\r\n    return {\r\n      input,\r\n      button,\r\n      ...screen,\r\n    }\r\n  }\r\n\r\n  it('inputì˜ ì´ˆê¸°ê°’ì€ ë¹ˆ ë¬¸ìì—´ì´ë‹¤.', () =\u003e {\r\n    const { input } = setup()\r\n    expect(input.value).toEqual('')\r\n  })\r\n\r\n  it('inputì˜ ìµœëŒ€ê¸¸ì´ê°€ 20ìë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤.', () =\u003e {\r\n    const { input } = setup()\r\n    expect(input).toHaveAttribute('maxlength', '20')\r\n  })\r\n\r\n  it('ì˜ë¬¸ê³¼ ìˆ«ìë§Œ ì…ë ¥ëœë‹¤.', () =\u003e {\r\n    const { input } = setup()\r\n    const inputValue = 'ì•ˆë…•í•˜ì„¸ìš”123'\r\n    userEvent.type(input, inputValue)\r\n    expect(input.value).toEqual('123')\r\n  })\r\n\r\n  it('ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ë²„íŠ¼ì´ í™œì„±í™” ë˜ì§€ ì•ŠëŠ”ë‹¤.', () =\u003e {\r\n    const { button } = setup()\r\n    expect(button).toBeDisabled()\r\n  })\r\n\r\n  it('ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ë©´ ë²„íŠ¼ì´ í™œì„±í™” ëœë‹¤.', () =\u003e {\r\n    const { button, input } = setup()\r\n\r\n    const inputValue = 'helloworld'\r\n    userEvent.type(input, inputValue)\r\n\r\n    expect(input.value).toEqual(inputValue)\r\n    expect(button).toBeEnabled()\r\n  })\r\n\r\n  it('ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ alertê°€ í•´ë‹¹ ì•„ì´ë””ë¡œ ëœ¬ë‹¤.', () =\u003e {\r\n    const alertMock = jest\r\n      .spyOn(window, 'alert')\r\n      .mockImplementation((_: string) =\u003e undefined)\r\n\r\n    const { button, input } = setup()\r\n    const inputValue = 'helloworld'\r\n\r\n    userEvent.type(input, inputValue)\r\n    fireEvent.click(button)\r\n\r\n    expect(alertMock).toHaveBeenCalledTimes(1)\r\n    expect(alertMock).toHaveBeenCalledWith(inputValue)\r\n  })\r\n})\r\n```\r\n- **setup** : ë‚´ë¶€ì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê³  í…ŒìŠ¤íŠ¸ì— í•„ìš”í•œ button,inputì„ ë°˜í™˜í•œë‹¤.  \r\n- **userEvent.type** : ì‚¬ìš©ìê°€ íƒ€ì´í•‘ í•˜ëŠ”ê²ƒì„ í‰ë‚´ë‚´ëŠ” ë©”ì„œë“œì´ë‹¤. userEvent.typeì„ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ íƒ€ì´í•‘í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ ì‘ë™ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\r\n- **userEvent**ëŠ” fireEventì˜ ì—¬ëŸ¬ ì´ë²¤íŠ¸ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•´ ì¢€ ë” ìì„¸í•˜ê²Œ ì‚¬ìš©ìì˜ ì‘ë™ì„ í‰ë‚´ë‚¸ë‹¤. \r\n\tì˜ˆë¥¼ ë“¤ì–´ **userEvent.click**ë¥¼ ìˆ˜í–‰í•˜ë©´ \r\n\t\t- fireEvent.MouseOver  \r\n\t\t- fireEvent.mouseMove \r\n\t\t- fireEvent.mouseDown \r\n\t\t- fireEvent.mouseUp  \r\n\t\t- fireEvent.click \r\n\t\tì„ ìˆ˜í–‰í•œë‹¤. \r\n  \r\n  ì¦‰ userEventëŠ” ì‚¬ìš©ìì˜ ì‘ë™ì„ **ì—¬ëŸ¬ fireEventë¥¼ í†µí•´ ì¢€ ë” ìì„¸í•˜ê²Œ í‰ë‚´ ë‚´ëŠ” ëª¨ë“ˆì´**ë¼ê³  ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.\r\n\r\n\tëŒ€ë¶€ë¶„ì˜ ì´ë²¤íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•ŒëŠ” fireEventë¡œ ì¶©ë¶„í•˜ê³  í›¨ì”¬ ë¹ ë¥´ì§€ë§Œ, íŠ¹ë³„íˆ ì‚¬ìš©ìì˜ ì´ë²¤íŠ¸ë¥¼ í‰ë‚´ ë‚´ì•¼ í•  ë•Œë§Œ userEventë¥¼ ì‚¬ìš©í•œë‹¤.\r\n  \r\n- **jest.spyOn(window,'alert').mockImplementation()**  \r\n\t- **spyOn** : íŠ¹ì • ë©”ì„œë“œë¥¼ ì˜¤ì—¼ì‹œí‚¤ì§€ ì•Šê³  ì‹¤í–‰ì´ ë˜ì—ˆëŠ”ì§€ , ì–´ë–¤ ì¸ìˆ˜ë¡œ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ ì‹¤í–‰ê³¼ ê´€ë ¨ëœ ì •ë³´ë§Œ ì–»ê³  ì‹¶ì„ë•Œ ì‚¬ìš©í•œë‹¤. ì¦‰ ìœ„ì˜ ì½”ë“œì—ì„œëŠ” window ê°ì²´ì˜ ë©”ì„œë“œ alertë¥¼ êµ¬í˜„í•˜ì§€ ì•Šê³  í•´ë‹¹ ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ê´€ì°°í•œë‹¤ëŠ” ëœ»ì´ë‹¤.\r\n\t\r\n\t\r\n\t\tspyonìœ¼ë¡œ `í•œë²ˆ í˜¸ì¶œë˜ì—ˆëŠ”ì§€`(toBeCalledTimes(1)), `ì›í•˜ëŠ” ì¸ìˆ˜ì™€ í•¨ê»˜ í˜¸ì¶œë˜ì—ˆëŠ”ì§€` (toBeCalledWith(1,2))ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. \r\n\t**calc.addìì²´ì—ëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤.**\r\n\t- **mockImplementation**: í•´ë‹¹ ë©”ì„œë“œì— ëŒ€í•œ ëª¨í‚¹ì„ ë„ì™€ì¤€ë‹¤. Jestí™˜ê²½ì—ì„œëŠ” window.alertê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë°, ì´ë¥¼ ëª¨ì˜í•¨ìˆ˜(mock)ë¡œ êµ¬í˜„í•  ìˆ˜ í•´ì£¼ëŠ” ë©”ì„œë“œì´ë‹¤.\r\n\r\n\tì¦‰ jest.spyOnì„ ì‚¬ìš©í•´ Node.jsì—ì„œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” window.alertë¥¼ ê´€ì°°í•˜ê³ , mockImpletationì„ ì‚¬ìš©í•´ window.alertê°€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ì˜ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì²˜ë¦¬í•œ ê²ƒì´ë‹¤.\r\n\r\n## ë¹„ë™ê¸° ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ì»´í¬ë„ŒíŠ¸\r\nê·¸ë ‡ë‹¤ë©´ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì¤‘ fetchê°€ ì‹¤í–‰ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ì\r\n\r\nì´ ì½”ë“œëŠ” ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ /todos/:idë¡œ fetch ìš”ì²­ì„ ë³´ë‚´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.\r\n\r\nì´ fetchë¥¼ ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆì„ê¹Œ?\r\n\r\nìš°ë¦¬ëŠ” ì´ë¥¼ ìœ„í•´ `MSW`ë¥¼ ì‚¬ìš©í•´ ë³¼ ê²ƒì´ë‹¤.\r\n \r\n **MSW**ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ì‚¬ìš©í•  ë•ŒëŠ” ì„œë¹„ìŠ¤ ì›Œì»¤ë¥¼ í™œìš©í•´ ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ê°€ë¡œì±„ëŠ” ë°©ì‹ìœ¼ë¡œ ëª¨í‚¹ì„ êµ¬í˜„í•˜ê³ , Node.js í™˜ê²½ì—ì„œëŠ” httpsë‚˜ XMLHttpRequestì˜ ìš”ì²­ì„ ê°€ë¡œì±„ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ë™í•œë‹¤.\r\n \r\nì¦‰ node.jsì—ì„œë‚˜ ë¸Œë¼ìš°ì €ì—ì„œ fetch ìš”ì²­ì„ í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ê²Œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ìˆ˜í–‰í•˜ê³ , ì´ ìš”ì²­ì„ **ì¤‘ê°„ì— MSWê°€ ê°ì§€í•˜ê³  ë¯¸ë¦¬ ì¤€ë¹„í•œ ëª¨í‚¹ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ë°©ì‹**ì´ë‹¤.\r\n\r\nì´ëŠ” fetchì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê³  ì‘ë‹µì— ëŒ€í•´ì„œë§Œ ëª¨í‚¹í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ fetchë¥¼ ëª¨í‚¹í•˜ëŠ”ê²Œ í›¨ì”¬ ìˆ˜ì›”í•´ì§„ë‹¤.\r\n\r\në¹„ë™ê¸° í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ\r\n```js\r\nimport { fireEvent, render, screen } from '@testing-library/react'\r\nimport { rest } from 'msw'\r\nimport { setupServer } from 'msw/node'\r\n\r\nimport { FetchComponent } from '.'\r\n\r\nconst MOCK_TODO_RESPONSE = {\r\n  userId: 1,\r\n  id: 1,\r\n  title: 'delectus aut autem',\r\n  completed: false,\r\n}\r\n// ì„œë²„ë¥¼ ë§Œë“œëŠ” ì—­í• \r\nconst server = setupServer(\r\n  rest.get('/todos/:id', (req, res, ctx) =\u003e {\r\n    const todoId = req.params.id\r\n\r\n    if (Number(todoId)) {\r\n      return res(ctx.json({ ...MOCK_TODO_RESPONSE, id: Number(todoId) }))\r\n    } else {\r\n      return res(ctx.status(404))\r\n    }\r\n  }),\r\n)\r\n// \r\nbeforeAll(() =\u003e server.listen())\r\n// ì´ˆê¸°í™”í–ˆë˜ ì´ˆê¸°ê°’ìœ ì§€ìœ„í•´ì„œ ì´ í…ŒìŠ¤íŠ¸ëŠ” ë§ˆì§€ë§‰ì´ì–´ì„œ ìƒê´€ì—†ì§€ë§Œ, ê·¸ë ‡ì§€ì•Šìœ¼ë©´ ë‹¤ë¥¸ ê³³ì—ì„œë„ 503ì—ëŸ¬\r\n// afterEach(() =\u003e server.resetHandlers());\r\nafterAll(() =\u003e server.close())\r\n\r\nbeforeEach(() =\u003e {\r\n  render(\u003cFetchComponent /\u003e)\r\n})\r\n\r\ndescribe('FetchComponent í…ŒìŠ¤íŠ¸', () =\u003e {\r\n  it('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ì „ì—ëŠ” ê¸°ë³¸ ë¬¸êµ¬ê°€ ëœ¬ë‹¤.', async () =\u003e {\r\n    const nowLoading = screen.getByText(/ë¶ˆëŸ¬ì˜¨ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤./)\r\n    expect(nowLoading).toBeInTheDocument()\r\n  })\r\n\r\n  it('ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.', async () =\u003e {\r\n    const button = screen.getByRole('button', { name: /1ë²ˆ/ })\r\n    fireEvent.click(button)\r\n\r\n    const data = await screen.findByText(MOCK_TODO_RESPONSE.title)\r\n    expect(data).toBeInTheDocument()\r\n  })\r\n\r\n  //ì—¬ê¸°ì„œë§Œ ì—ëŸ¬ë– ì•¼í•˜ë¯€ë¡œ ìœ„ì—ì„œ resetHandlers ì‚¬ìš©\r\n  it('ë²„íŠ¼ì„ í´ë¦­í•˜ê³  ì„œë²„ìš”ì²­ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì—ëŸ¬ë¬¸êµ¬ë¥¼ ë…¸ì¶œí•œë‹¤.', async () =\u003e {\r\n    server.use(\r\n      rest.get('/todos/:id', (req, res, ctx) =\u003e {\r\n        return res(ctx.status(503))\r\n      }),\r\n    )\r\n\r\n    const button = screen.getByRole('button', { name: /1ë²ˆ/ })\r\n    fireEvent.click(button)\r\n\r\n    const error = await screen.findByText(/ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤/)\r\n    expect(error).toBeInTheDocument()\r\n  })\r\n})\r\n```\r\nì „ì²´ ì½”ë“œë¥¼ ë‚˜ëˆ ì„œ ì‚´í´ë³´ì\r\n```js\r\n// ì„œë²„ë¥¼ ë§Œë“œëŠ” ì—­í• \r\nconst server = setupServer(\r\n  rest.get('/todos/:id', (req, res, ctx) =\u003e {\r\n    const todoId = req.params.id\r\n\r\n    if (Number(todoId)) {\r\n      return res(ctx.json({ ...MOCK_TODO_RESPONSE, id: Number(todoId) }))\r\n    } else {\r\n      return res(ctx.status(404))\r\n    }\r\n  }),\r\n)\r\n```\r\n- **setupServer**: ì´ë¦„ ê·¸ëŒ€ë¡œ ì„œë²„ë¥¼ ë§Œë“œëŠ” ì—­í• ì´ë‹¤. \r\në¼ìš°íŠ¸ /todos/:idì˜ ìš”ì²­ë§Œ ê°€ë¡œì±„ì„œ todoIdê°€ ìˆ«ìì¸ì§€ í™•ì¸í•œ ë‹¤ìŒ, ìˆ«ìì¼ ë•Œë§Œ MOCK_TODO_RESPONSEì™€ idë¥¼ ë°˜í™˜í•˜ê³ , ìˆ«ìê°€ ì•„ë‹ˆë¼ë©´ 404ë¥¼ ë°˜í™˜í•˜ë„ë¡ ì½”ë“œë¥¼ êµ¬ì„±í–ˆë‹¤. \r\n\r\ní…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹œì‘í•˜ê¸° ì „ì—ëŠ” ì„œë²„ë¥¼ ê¸°ë™í•˜ê³ , ì¢…ë£Œë˜ë©´ ì„œë²„ë¥¼ ì¢…ë£Œì‹œí‚¨ë‹¤. \r\n\r\nafterEachì—ì„œ server.resetHandlers()ê°€ ìˆëŠ” ì´ìœ ëŠ” \r\në§Œì¼ `ì„œë²„ê°€ ì‹¤íŒ¨ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°`ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œ ctx.status(503)ê³¼ ê°™ì€ í˜•íƒœë¡œ ë³€ê²½í•˜ëŠ”ë°,  ì´ë¥¼ ë¦¬ì…‹í•˜ì§€ ì•Šìœ¼ë©´ ì‹¤íŒ¨í•˜ëŠ” ì½”ë“œë¡œ ë‚¨ì•„ìˆì„ ê²ƒì´ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ë§ˆë‹¤ **resetHandlers**ë¥¼ í†µí•´ setupServerë¡œ ì´ˆê¸°í™”í–ˆë˜ ì´ˆê¹ƒê°’ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ê²ƒì´ë‹¤.\r\n\r\nê·¸ ë‹¤ìŒ **describe**ë¥¼ ì‹œì‘ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì€ ë‚´ìš©ì„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì‘ì„±í•´ë³´ì.\r\n```js\r\nit('ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.', async () =\u003e {\r\n    const button = screen.getByRole('button', { name: /1ë²ˆ/ })\r\n    fireEvent.click(button)\r\n\r\n    const data = await screen.findByText(MOCK_TODO_RESPONSE.title)\r\n    expect(data).toBeInTheDocument()\r\n  })\r\n```\r\në²„íŠ¼ì„ í´ë¦­í•´ fetchê°€ ë°œìƒí•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í…ŒìŠ¤íŠ¸í•œë‹¤. ë²„íŠ¼ì„ í´ë¦­í•˜ëŠ” ê²ƒ ê¹Œì§€ëŠ” ë™ì¼í•˜ì§€ë§Œ ì´í›„ fetch ì‘ë‹µì´ ì˜¨ ë’¤ì—ì„œì•¼ ë¹„ë¡œì†Œ ì°¾ê³ ì í•˜ëŠ” ê°’ì„ ë Œë”ë§í•  ê²ƒì´ë‹¤.\r\n\r\nìš”ì†Œê°€ ë Œë”ë§ë  ë•Œê¹Œì§€ ì¼ì • ì‹œê°„ ë™ì•ˆ ê¸°ë‹¤ë¦¬ëŠ” `find ë©”ì„œë“œ`ë¥¼ ì‚¬ìš©í•´ ìš”ì†Œë¥¼ ê²€ìƒ‰í•œë‹¤.\r\n\r\n```js\r\n//ì—¬ê¸°ì„œë§Œ ì—ëŸ¬ë– ì•¼í•˜ë¯€ë¡œ ìœ„ì—ì„œ resetHandlers ì‚¬ìš©\r\n  it('ë²„íŠ¼ì„ í´ë¦­í•˜ê³  ì„œë²„ìš”ì²­ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì—ëŸ¬ë¬¸êµ¬ë¥¼ ë…¸ì¶œí•œë‹¤.', async () =\u003e {\r\n    server.use(\r\n      rest.get('/todos/:id', (req, res, ctx) =\u003e {\r\n        return res(ctx.status(503))\r\n      }),\r\n    )\r\n\r\n    const button = screen.getByRole('button', { name: /1ë²ˆ/ })\r\n    fireEvent.click(button)\r\n\r\n    const error = await screen.findByText(/ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤/)\r\n    expect(error).toBeInTheDocument()\r\n  })\r\n```\r\nì•ì„œ setupServerëŠ” ì •ìƒì ì¸ ì‘ë‹µë§Œ ëª¨í‚¹í–ˆê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° í˜ë“¤ë‹¤.\r\n\r\nì„œë²„ ì‘ë‹µì´ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš°ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ì„œëŠ” `server.use`ë¥¼ ì‚¬ìš©í•´ ê¸°ì¡´ `setupServer`ì˜ ë‚´ìš©ì„ ìƒˆë¡­ê²Œ ë®ì–´ì“´ë‹¤. ëª¨ë“  ê²½ìš°ì— 503ì´ ì˜¤ë„ë¡ ì‘ì„±í–ˆê³ , ì„œë²„ ì„¤ì •ì´ ëë‚œ í›„ì—ëŠ” **findBy**ë¥¼ ì´ìš©í•´ ì—ëŸ¬ ë¬¸êµ¬ê°€ ì •ìƒì ìœ¼ë¡œ ë…¸ì¶œëëŠ”ì§€ í™•ì¸í•œë‹¤.\r\n\r\n**server.use**ë¥¼ í™œìš©í•´ ì„œë²„ ê¸°ë³¸ ì‘ë™ì„ ë®ì–´ì“°ëŠ” ì‘ì—…ì€ ìœ„ì˜ ì½”ë“œì—ì„œë§Œ ìœ íš¨í•´ì•¼í•˜ê³ , ë‹¤ë¥¸ ì½”ë“œì—ì„œëŠ” ì›ë˜ëŒ€ë¡œ ë‹¤ì‹œ ì„œë²„ ì‘ë™ì´ ë˜ì–´ì•¼í•˜ë¯€ë¡œ ìœ„ì—ì„œ afterEachì—ì„œ resetHandlersë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë‹¤. \r\n\r\në¹„ë™ê¸° ì»´í¬ë„ŒíŠ¸ì˜ í…ŒìŠ¤íŠ¸ì—ì„œ ì¤‘ìš”í•œ ê²ƒì€ **MSWë¥¼ ì‚¬ìš©í•œ fetch ì‘ë‹µ ëª¨í‚¹**ê³¼ **findByë¥¼ í™œìš©í•´ ë¹„ë™ê¸° ìš”ì²­ì´ ëë‚œ ë’¤ì— ì œëŒ€ë¡œ ëœ ë Œë”ë§ì´ ì¼ì–´ë‚¬ëŠ”ì§€ ê¸°ë‹¤ë¦° í›„ì— í™•ì¸í•˜ëŠ” ê²ƒ**ì´ë‹¤.\r\n## ë§ˆì¹˜ë©°\r\nì§€ê¸ˆê¹Œì§€ ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” 3ê°€ì§€ ì¢…ë¥˜ì˜ ì»´í¬ë„ŒíŠ¸ `ì •ì  ì»´í¬ë„ŒíŠ¸`, `ë™ì  ì»´í¬ë„ŒíŠ¸`, `ë¹„ë™ê¸° ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ì»´í¬ë„ŒíŠ¸`ì˜ ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‚´í´ë³´ì•˜ë‹¤.\r\n\r\nì±…ì—ëŠ” ì´ì™¸ì—ë„ ì¶”ê°€ë¡œ `ì‚¬ìš©ì ì •ì˜ í›…ì„ í…ŒìŠ¤íŠ¸í•˜ê¸°`ê°€ ìˆëŠ”ë°, ì´ ë¶€ë¶„ì€ ì¡°ë§Œê°„ í…ŒìŠ¤íŠ¸ê°€ ìµìˆ™í•´ì§„ ì´í›„ ì‹¤ì œë¡œ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•´ë³¸ ì‚¬ìš©ì ì •ì˜ í›…ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”  ê¸€ì„ í¬ìŠ¤íŒ…í•´ë³¼ ì˜ˆì •ì´ë‹¤.\r\n\r\ní…ŒìŠ¤íŠ¸ì— ê´€í•œ ê¸€ì€ ê³„ì† ì˜¬ë¦´ ê²ƒ ì´ë‹ˆ ë§ê´€ë¶€.\r\n\r\n\r\n\r\n\r\n\r\n"}]},"__N_SSG":true},"page":"/","query":{},"buildId":"VuVQQwMeKuommrOmHA7pr","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>